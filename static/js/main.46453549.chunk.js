(this.webpackJsonpmygreenenterprise=this.webpackJsonpmygreenenterprise||[]).push([[0],{458:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){"use strict";a.r(t);a(316);var n=a(0),r=a(42),c=a.n(r),s=a(27),i=a(5),l=a(47),o=a(23),d=a(3),u=a(526),j=a(294),b=a(295),x=a(1),p=function e(t){var a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],l=r[1],p=function(e,a,n){if(a.disabled)e.preventDefault();else{if(a.command&&(a.command({originalEvent:e,item:a}),e.preventDefault()),a.items&&e.preventDefault(),t.root)t.onRootMenuItemClick({originalEvent:e});else if("sidebar"!==t.menuMode){var r=h(e.currentTarget);r&&m(r,"p-ink-active")}l(n===c?null:n),t.onMenuItemClick({originalEvent:e,item:a})}},h=function(e){for(var t=0;t<e.children.length;t++)if("string"===typeof e.children[t].className&&-1!==e.children[t].className.indexOf("p-ink"))return e.children[t];return null},m=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},O=function(){return window.innerWidth<=1025},f=Object(n.useCallback)((function(){return"horizontal"===t.menuMode||"slim"===t.menuMode}),[t.menuMode]),g=function(e){return"function"===typeof e.visible?e.visible():!1!==e.visible},v=function(e,a){var n=Object(o.e)("layout-menuitem-icon",e.icon),r=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("i",{className:n}),Object(x.jsx)("span",{className:"layout-menuitem-text",children:e.label}),e.items&&Object(x.jsx)("i",{className:"pi pi-fw pi-chevron-down  layout-submenu-toggler"}),e.badge&&Object(x.jsx)(b.a,{value:e.badge,style:{height:"100%"}}),Object(x.jsx)(j.a,{})]}),c={style:e.style,className:Object(o.e)(e.className,"p-ripple",{"p-disabled":e.disabled}),target:e.target,onClick:function(t){return p(t,e,a)},onMouseEnter:function(){return function(e){t.root&&t.menuActive&&f()&&!O()&&l(e)}(a)},onKeyDown:function(t){return function(e,t,a){"Enter"===e.key&&p(e,t,a)}(t,e,a)}};return e.to?Object(x.jsx)(s.c,Object(d.a)(Object(d.a)({to:e.to,exact:!0,activeClassName:"active-route"},c),{},{children:r})):Object(x.jsx)("a",Object(d.a)(Object(d.a)({href:e.url,rel:"noopener noreferrer",tabIndex:e.url?"":0},c),{},{children:r}))};if(Object(n.useEffect)((function(){t.resetActiveIndex&&f()&&l(null)}),[t.resetActiveIndex,f]),Object(n.useEffect)((function(){!t.menuActive&&f()&&l(null)}),[t.menuActive,f]),!t.items)return null;var y=function(){var a=f()&&!t.root?{enter:1e3,exit:450}:f()&&!O()?0:{enter:1e3,exit:450};return t.items.map((function(n,r){if(g(n)){var s=Object(o.e)({"layout-root-menuitem":t.root,"active-menuitem":c===r&&!n.disabled}),i=v(n,r),l=Object(x.jsxs)("div",{className:"layout-menu-tooltip",children:[Object(x.jsx)("div",{className:"layout-menu-tooltip-arrow"}),Object(x.jsx)("div",{className:"layout-menu-tooltip-text",children:n.label})]});return Object(x.jsxs)("li",{className:s,role:"menuitem",children:[i,l,Object(x.jsx)(u.a,{classNames:"p-toggleable-content",timeout:a,in:c===r,unmountOnExit:!0,children:Object(x.jsx)(e,{items:g(n)&&n.items,menuActive:t.menuActive,menuMode:t.menuMode,parentMenuItemActive:c===r,onMenuItemClick:t.onMenuItemClick})})]},n.label||r)}return null}))}();return Object(x.jsx)("ul",{className:t.className,role:"menu",children:y})},h=function(e){return Object(x.jsxs)("div",{className:Object(o.e)("menu-wrapper",{"layout-sidebar-active":e.sidebarActive}),onClick:e.onMenuClick,onMouseOver:function(){"sidebar"!==e.menuMode||e.sidebarStatic||e.onSidebarMouseOver()},onMouseLeave:function(){"sidebar"!==e.menuMode||e.sidebarStatic||setTimeout((function(){e.onSidebarMouseLeave()}),250)},children:[Object(x.jsx)("div",{style:{padding:"20px"},children:Object(x.jsx)("img",{alt:"MGE",src:"./assets/logo.png"})}),Object(x.jsx)("div",{className:"layout-menu-container",children:Object(x.jsx)(p,{items:e.model,className:"layout-menu",menuActive:e.menuActive,onRootMenuItemClick:e.onRootMenuItemClick,mobileMenuActive:e.mobileMenuActive,onMenuItemClick:e.onMenuItemClick,root:!0,menuMode:e.menuMode,parentMenuItemActive:!0,resetActiveIndex:e.resetActiveIndex})})]})},m=a(511),O=a(512),f=a(519),g=(a(518),a(528),a(308),a(87)),v=a.n(g),y=function(e){return e&&e>=v()().startOf("day")},I=function(e){return e.toLowerCase().split(" ").map((function(e){return"".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1,e.length)," ")}))},w=function(){return localStorage.getItem("mgeToken")||""},C=function(){return localStorage.getItem("mgeDatosUsuario")?JSON.parse(localStorage.getItem("mgeDatosUsuario")):{opciones:[]}},T=function(){return localStorage.getItem("mgeCatalogos")?JSON.parse(localStorage.getItem("mgeCatalogos")):{}},S=function(e,t){return e.filter((function(e){return e.idOpcionPadre===t.idOpcion})).length>0?e.filter((function(e){return e.idOpcionPadre===t.idOpcion})).map((function(e){return{label:I(e.etiquetaOpcion),to:e.actionOpcion,icon:e.icono}})):null},N=function(){var e=localStorage.getItem("mgeInformList")?JSON.parse(localStorage.getItem("mgeInformList")):[],t=C().opciones||[];e.length>1&&(e.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&e.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length<1?t=C().opciones.map((function(e){return e.actionOpcion.indexOf("/beneficiaries/registry")>=0?Object(d.a)(Object(d.a)({},e),{},{visible:!0}):Object(d.a)({},e)})):e.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&e.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&(t=C().opciones.map((function(e){return e.actionOpcion.indexOf("/beneficiaries/qualification")>=0?Object(d.a)(Object(d.a)({},e),{},{visible:!0}):Object(d.a)({},e)}))));var a=t.filter((function(e){return void 0===e.idOpcionPadre&&!0===e.visible})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{items:S(t,e)})})).map((function(e){return{label:I(e.etiquetaOpcion),to:e.actionOpcion,icon:e.icono,items:e.items}}));return a||[]},P=function(e){return e.indexOf(".doc")>0?"application/msword":e.indexOf(".docx")>0?"application/vnd.openxmlformats-officedocument.wordprocessingml.document":e.indexOf(".xls")>0?"application/vnd.ms-excel":e.indexOf(".xlsx")>0?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":e.indexOf(".jpeg")>0||e.indexOf(".jpg")>0?"image/jpeg":e.indexOf(".png")>0?"image/png":e.indexOf(".pdf")>0?"application/pdf":e.indexOf(".rar")>0?"application/x-rar-compressed":"application/octet-stream"},k=function(){return C().cultura||"en_US"},F="welcomeBack",E="loginAccess",_="emailLogin",R="passwordLogin",L="login",A="enterEmail",V="enterPassword",D="emailNotValid",U="forgotPassword",B="resourceNotAvailable",q="resetPassword",Y="view",M="edit",z="ok",W="yes",H="cancel",G="minimumBeneficiaries",J="beneficiaryTitle",K="beneficiariesTitle",X="deleteBeneficiaryTitle",$="reConfirmDeleteBeneficiary",Q="sendBeneficiaryListTitle",Z="sendBeneficiaryListConfirm",ee=[{id:"welcomeBack",labels:[{culture:"en_US",label:"Welcome back"},{culture:"es_EC",label:"Bienvenido"}]},{id:"loginAccess",labels:[{culture:"en_US",label:"Log in to access your account"},{culture:"es_EC",label:"Ingresa para acceder a tu cuenta"}]},{id:"emailLogin",labels:[{culture:"en_US",label:"Log in with your email"},{culture:"es_EC",label:"Correo"}]},{id:"passwordLogin",labels:[{culture:"en_US",label:"Enter your password"},{culture:"es_EC",label:"Contrase\xf1a"}]},{id:"login",labels:[{culture:"en_US",label:"Log in"},{culture:"es_EC",label:"Ingresar"}]},{id:"enterEmail",labels:[{culture:"en_US",label:"Enter you email"},{culture:"es_EC",label:"Ingresa tu correo"}]},{id:"enterPassword",labels:[{culture:"en_US",label:"Enter your password"},{culture:"es_EC",label:"Ingresa tu contrase\xf1a"}]},{id:"emailNotValid",labels:[{culture:"en_US",label:"Email is not valid"},{culture:"es_EC",label:"Correo no v\xe1lido"}]},{id:"forgotPassword",labels:[{culture:"en_US",label:"Forgot your password?"},{culture:"es_EC",label:"\xbfOlvidaste tu contrase\xf1a?"}]},{id:"recoverPassword",labels:[{culture:"en_US",label:"Recover password"},{culture:"es_EC",label:"Recuperar Contrase\xf1a"}]},{id:"email",labels:[{culture:"en_US",label:"Email"},{culture:"es_EC",label:"Correo"}]},{id:"completeEmail",labels:[{culture:"en_US",label:"Complete your email"},{culture:"es_EC",label:"Ingresa tu correo"}]},{id:"resourceNotAvailable",labels:[{culture:"en_US",label:"The requested resource is not available or cannot be found."},{culture:"es_EC",label:"El recurso solicitado no est\xe1 disponible o no existe."}]},{id:"resetPassword",labels:[{culture:"en_US",label:"Reset password"},{culture:"es_EC",label:"Restablecer contrase\xf1a"}]},{id:"view",labels:[{culture:"en_US",label:"View"},{culture:"es_EC",label:"Ver"}]},{id:"edit",labels:[{culture:"en_US",label:"Edit"},{culture:"es_EC",label:"Editar"}]},{id:"ok",labels:[{culture:"en_US",label:"OK"},{culture:"es_EC",label:"OK"}]},{id:"save",labels:[{culture:"en_US",label:"Save"},{culture:"es_EC",label:"Guardar"}]},{id:"accept",labels:[{culture:"en_US",label:"Accept"},{culture:"es_EC",label:"Aceptar"}]},{id:"yes",labels:[{culture:"en_US",label:"Yes"},{culture:"es_EC",label:"Si"}]},{id:"no",labels:[{culture:"en_US",label:"No"},{culture:"es_EC",label:"No"}]},{id:"cancel",labels:[{culture:"en_US",label:"Cancel"},{culture:"es_EC",label:"Cancelar"}]},{id:"minimumBeneficiaries",labels:[{culture:"en_US",label:"Minimum Beneficiaries"},{culture:"es_EC",label:"M\xednimo de Beneficiaries"}]},{id:"beneficiaryTitle",labels:[{culture:"en_US",label:"Beneficiary"},{culture:"es_EC",label:"Beneficiario"}]},{id:"beneficiariesTitle",labels:[{culture:"en_US",label:"Beneficiaries"},{culture:"es_EC",label:"Beneficiaries"}]},{id:"deleteBeneficiaryTitle",labels:[{culture:"en_US",label:"Delete Beneficiary"},{culture:"es_EC",label:"Eliminar Beneficiario"}]},{id:"reConfirmDeleteBeneficiary",labels:[{culture:"en_US",label:"If you do not meet the minimum number of registered beneficiaries, your final report will be disabled. Continue anyway?"},{culture:"es_EC",label:"Si no cumple con el m\xednimo de beneficiarios registrados se deshabilitara su reporte final. \xbfContinuar de todos modos?"}]},{id:"sendBeneficiaryListTitle",labels:[{culture:"en_US",label:"Send Beneciary List"},{culture:"es_EC",label:"Enviar Lista de Beneciarios"}]},{id:"sendBeneficiaryListConfirm",labels:[{culture:"en_US",label:"Check beneficiary qualification/participation. Once sent, further editing will not be allowed and the certificate will be generated. Are you sure you want to send the list of beneficiaries?"},{culture:"es_EC",label:"Verifique la calificaci\xf3n/participaci\xf3n de los beneficiarios. Una vez enviado, no se permitir\xe1n m\xe1s ediciones y se generar\xe1 el certificado. \xbfEst\xe1s seguro de que quieres enviar la lista de beneficiarios?"}]}],te=function(e){return ee.filter((function(t){return t.id===e}))[0].labels.filter((function(e){return e.culture===k()}))[0].label||"Label undefined"},ae=function(e){var t=Object(l.useHistory)(),a=Object(n.useRef)(null),r=Object(n.useRef)(null);Object(n.useEffect)((function(){e.searchActive&&(window.innerWidth>=576?a.current.focus():r.current.focus())}),[e.searchActive]);var c={fontSize:"1.5em",padding:0,margin:0};return Object(x.jsx)("div",{className:"layout-topbar",children:Object(x.jsxs)("div",{className:"layout-topbar-wrapper",children:[Object(x.jsxs)("div",{className:"layout-topbar-left",children:[Object(x.jsx)("button",{tabIndex:"0",className:"menu-button p-link",onClick:e.onMenuButtonClick,children:Object(x.jsx)("i",{className:"pi pi-bars"})}),Object(x.jsxs)("div",{id:"logo-link",className:"layout-topbar-logo",children:[Object(x.jsx)("span",{className:"mge mge-bold mge-lightGreen",style:c,children:"MG"}),Object(x.jsx)("span",{className:"mge mge-bold mge-green",style:c,children:"E"})]})]}),Object(x.jsx)(h,{menuMode:e.menuMode,sidebarActive:e.sidebarActive,sidebarStatic:e.sidebarStatic,model:e.menu,menuActive:e.menuActive,onRootMenuItemClick:e.onRootMenuItemClick,onMobileMenuActive:e.onMobileMenuActive,onMenuItemClick:e.onMenuItemClick,onSidebarMouseOver:e.onSidebarMouseOver,onSidebarMouseLeave:e.onSidebarMouseLeave,onToggleMenu:e.onToggleMenu,resetActiveIndex:e.resetActiveIndex,onMenuClick:e.onMenuClick}),Object(x.jsx)("div",{className:"layout-topbar-right",children:Object(x.jsx)("ul",{className:"layout-topbar-actions",children:Object(x.jsxs)("li",{className:Object(o.e)("topbar-item user-profile",{"active-topmenuitem fadeInDown":e.topbarUserMenuActive}),children:[Object(x.jsx)("button",{className:"p-link",style:{cursor:"pointer"},onClick:e.onTopbarUserMenuClick,children:C()&&Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{style:{paddingRight:"15px",paddingTop:"5px",textAlign:"right",lineHeight:"1em"},children:Object(x.jsxs)(f.a.Text,{style:{fontSize:"1.2em"},children:["".concat(C().nombres||""," ").concat(C().apellidos||""),C()&&C().perfiles&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("br",{}),Object(x.jsx)(f.a.Text,{type:"secondary",style:{fontSize:"0.6em",lineHeight:"1em"},children:"".concat(C().perfiles[0].perNombre)})]})]})}),Object(x.jsx)(O.a,{children:Object(x.jsx)("img",{alt:"Profile",src:"./assets/account.png"})})]})}),Object(x.jsxs)("ul",{className:"fadeInDown",children:[Object(x.jsx)("li",{onClick:function(e){t.push("/myaccount")},children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{children:Object(x.jsx)("i",{className:"fa-solid fa-user-gear",style:{fontSize:"1.5em"}})}),Object(x.jsx)(O.a,{children:Object(x.jsx)("button",{className:"p-link",children:Object(x.jsx)("span",{children:"Profile"})})})]})}),Object(x.jsx)("li",{onClick:function(){return t.push("/resetPassword")},children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{children:Object(x.jsx)("i",{className:"fa-solid fa-key",style:{fontSize:"1.5em"}})}),Object(x.jsx)(O.a,{children:Object(x.jsx)("button",{className:"p-link",children:Object(x.jsx)("span",{children:te(q)})})})]})}),Object(x.jsx)("li",{onClick:function(e){localStorage.removeItem("mgeToken"),localStorage.removeItem("mgeDatosUsuario"),localStorage.removeItem("mgeInformList"),t.push("/login")},children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{children:Object(x.jsx)("i",{className:"fa-solid fa-right-from-bracket",style:{fontSize:"1.5em"}})}),Object(x.jsx)(O.a,{children:Object(x.jsx)("button",{className:"p-link",children:Object(x.jsx)("span",{children:"Sign out"})})})]})})]})]})})})]})})},ne=function(){return Object(x.jsx)("div",{className:"layout-footer",style:{display:"none"},children:Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"footer-bottom",children:Object(x.jsx)("h4",{children:Object(x.jsxs)("div",{className:"mge mge-bold",children:[Object(x.jsxs)("span",{className:"mge-lightGreen",children:["My",Object(x.jsx)("br",{}),"Green"]}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"mge-green",children:"Enterprise"})]})})})})})})},re=function(e){return Object(x.jsx)(x.Fragment,{})},ce=a(310),se=(a(455),a(456),a(457),a(458),a(13)),ie=a(8),le=a.n(ie),oe=a(534),de=a(70),ue=a(50),je=a(527),be=a(513),xe=a(520),pe=a(307),he=a(207),me=a(515),Oe=a(524),fe=a(67),ge=a(10),ve=a.n(ge),ye=a(16),Ie=a(15),we=a(69),Ce=a.n(we),Te={"Accept-Language":k()},Se=function(e){var t=Ce.a.create({headers:Te});return t.interceptors.request.use((function(t){var a=w();return void 0!==a&&null!==a&&""!==a||(ve.a.error("The session has expired. Please log in again."),e.push("/login")),t.headers.Authorization="Bearer ".concat(a),t}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(t){return 401!==t.status&&403!==t.status||(localStorage.removeItem("mgeToken"),localStorage.removeItem("mgeDatosUsuario"),localStorage.removeItem("mgeInformList"),ve.a.error("The session has expired. Please log in again."),e.push("/login")),t}),(function(t){if(t&&t.response){var a=t.response;401!==a.status&&403!==a.status||(localStorage.removeItem("mgeToken"),localStorage.removeItem("mgeDatosUsuario"),localStorage.removeItem("mgeInformList"),ve.a.error("The session has expired. Please log in again."),e.push("/login"))}return Promise.reject(t)})),t},Ne="/uprime-mge-web/uprime/api",Pe=function(){return"".concat(Ne,"/CatalogServiceRest/getCatalogsListByFather")},ke=function(){return"".concat(Ne,"/TrainingServiceRest/updateTraining")},Fe=function(){return"".concat(Ne,"/ReportServiceRest/downloadReportByName")},Ee=function(){return"".concat(Ne,"/CertificateServiceRest/downloadCertificateByName")},_e=function(){return"".concat(Ne,"/CertificateServiceRest/downloadCertificateByUuid")},Re={headers:{"Accept-Language":k()}},Le=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.gets=function(e){var t=e.navigate;return Se(t).get("".concat(Ne,"/UserServiceRest/getUsersList"))},this.getsFiltro=function(e){var t=e.navigate,a=e.filtros;return Se(t).post("".concat(Ne,"/UserServiceRest/getUsersListByFilter"),Object(d.a)({},a))},this.get=function(e){var t=e.navigate,a=e.usuario;return Se(t).post("".concat(Ne,"/UserServiceRest/getUserById"),a)},this.new=function(e){var t=e.navigate,a=e.usuario;return Se(t).put("".concat(Ne,"/UserServiceRest/insertUser"),a)},this.set=function(e){var t=e.navigate,a=e.usuario;return Se(t).patch("".concat(Ne,"/UserServiceRest/updateUser"),a)},this.put=function(e){var t=e.usuario;return Ce.a.create(Re).put("".concat(Ne,"/UserServiceRest/enrollPostulant"),t)},this.upLoadPhoto=function(e){var t=e.datos;return Ce.a.put("".concat(Ne,"/UserServiceRest/uploadPhotoUser"),t,Re)},this.getLessPostulants=function(e){var t=e.navigate;return Se(t).get("".concat(Ne,"/UserServiceRest/getUsersLessPostulants"))},this.resetPassword=function(e){var t=e.navigate,a=e.usuario;return Se(t).patch("".concat(Ne,"/UserServiceRest/resetPassword"),a)}})),Ae=a(146),Ve=a(167),De=a(91),Ue=f.a.Paragraph,Be=f.a.Text,qe=function(e){var t=e.user,a=e.resetPassword,r=e.isReseting,c=e.closeResetPassword,s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],u=l[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)(!1),O=Object(i.a)(m,2),g=O[0],v=O[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{children:Object(x.jsxs)(Ue,{children:[Object(x.jsxs)(Be,{strong:!0,children:[t.nombres," ",t.apellidos]}),Object(x.jsxs)(Be,{type:"secondary",children:[Object(x.jsx)("br",{}),t.email]})]})}),Object(x.jsxs)(xe.a,{layout:"vertical",initialValues:Object(d.a)(Object(d.a)({},t),{},{sendNotification:g}),onFinish:a,disabled:r,children:[Object(x.jsx)(xe.a.Item,{style:{display:"none"},name:"usuId",label:"Usuario",children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Complete password"}],children:Object(x.jsx)(pe.a.Password,{onChange:function(e){return u(e.target.value)}})}),Object(x.jsx)(De.a,{rules:["minLength","specialChar","number","capital"],minLength:8,value:o,messages:{minLength:"Password has more than 8 characters.",specialChar:"Password has special characters.",number:"Password has a number.",capital:"Password has a capital letter."},onChange:function(e){h(e)},style:{padding:"0 0 20px 0",display:p?"none":"block"}}),Object(x.jsx)(xe.a.Item,{name:"sendNotification",valuePropName:"checked",children:Object(x.jsx)(Ae.a,{defaultChecked:!1,onChange:function(e){return v(e.target.checked)},children:"Send notification"})}),Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",rules:[{required:g,message:"Select email"}],children:Object(x.jsx)(Ve.a,{fieldNames:{label:"value",value:"id"},showSearch:!0,options:[{id:t.email,value:t.email},{id:t.email2,value:t.email2}]})}),Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{onClick:c,disabled:r,children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",disabled:r,loading:r,children:r?"Reseting":"Reset Password"})]})]})]})},Ye=a(68),Me=a.n(Ye),ze=new Le,We=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)([]),h=Object(i.a)(p,2),g=h[0],v=h[1],y=Object(n.useState)(null),I=Object(i.a)(y,2),w=I[0],C=I[1],S=Object(n.useState)(null),N=Object(i.a)(S,2),P=N[0],k=N[1],F=Object(n.useState)(null),E=Object(i.a)(F,2),_=E[0],R=E[1],L=Object(n.useState)(null),A=Object(i.a)(L,2),V=A[0],D=A[1],U=Object(n.useState)(null),B=Object(i.a)(U,2),Y=B[0],M=B[1],z=Object(n.useState)(null),W=Object(i.a)(z,2),H=W[0],G=W[1],J=Object(n.useState)(!1),K=Object(i.a)(J,2),X=K[0],$=K[1],Q=Object(n.useState)(!1),Z=Object(i.a)(Q,2),ee=Z[0],ae=Z[1],ne=[{title:"",render:function(e,t){return t.imagen&&Object(x.jsx)("img",{alt:"",src:"/images/".concat(t.imagen.split("/")[t.imagen.split("/").length-1]),width:32,height:32})||Object(x.jsx)("img",{alt:"",src:"./assets/user.png",width:32,height:32})}},{title:"Name",dataIndex:"nombres",render:function(e,t){return Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsxs)("span",{children:[t.nombres," ",t.apellidos]}),Object(x.jsx)("span",{className:" mgeKey",children:ee&&Object(x.jsx)(fe.a,{})||Object(x.jsx)(de.a,{title:te(q),onClick:function(){ae(!0),C(null),setTimeout((function(){ae(!1),C(t),$(!0)}),250)},children:Object(x.jsx)("i",{style:{cursor:"pointer"},className:"fa-solid fa-key"})})})]})}},{title:"ID Number",dataIndex:"documento",responsive:["md","lg","xl","xxl"]},{title:"Email",dataIndex:"email",responsive:["xl","xxl"]},{title:"Phone",dataIndex:"celular",render:function(e,t){return"".concat(t.codigotel," ").concat(t.celular)},responsive:["xl","xxl"]},{title:"Actions",render:function(e,t){return Object(x.jsx)(ue.a,{type:"primary",href:"/#/users/".concat(t.usuId),children:"View"})}}],re=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ae(!0),n=Object(d.a)({usuId:a.usuId,password:Me()(a.password)},a.sendNotification&&{email:a.email}),t.prev=2,t.next=5,ze.resetPassword({navigate:e,usuario:n});case 5:r=t.sent,r.data&&ve.a.success("Password reset successfully"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),c=t.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error ocurred");case 14:return t.prev=14,ae(!1),ce(),t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[2,10,14,18]])})));return function(e){return t.apply(this,arguments)}}(),ce=function(){$(!1)},ie=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!1),k(null),b(!0),v([]),t.prev=4,a={},_&&(a=Object(d.a)(Object(d.a)({},a),{},{documento:_})),V&&(a=Object(d.a)(Object(d.a)({},a),{},{email:V})),Y&&(a=Object(d.a)(Object(d.a)({},a),{},{nombres:Y})),null!==H&&(a=Object(d.a)(Object(d.a)({},a),{},{estadoId:H})),t.next=12,ze.getsFiltro({navigate:e,filtros:a});case 12:n=t.sent,(r=n.data)?(s=r.listObject,v(s)):k("An error ocurred"),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),i=t.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 21:return t.prev=21,b(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[4,17,21,24]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){r&&ie()})),P?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:P}),Object(x.jsx)(s.b,{to:"/",children:"Return to home"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(m.a,{justify:"start",children:Object(x.jsx)(f.a.Title,{level:4,style:{margin:0},children:"Users Management"})})})}),Object(x.jsx)(be.a,{}),Object(x.jsxs)(xe.a,{layout:"vertical",children:[Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:6,xl:6,children:Object(x.jsx)(xe.a.Item,{label:"ID Number",children:Object(x.jsx)(pe.a,{label:"ID Number",type:"text",value:_,onChange:function(e){return R(e.target.value)}})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:6,xl:6,children:Object(x.jsx)(xe.a.Item,{label:"Name",children:Object(x.jsx)(pe.a,{label:"Name",type:"text",value:Y,onChange:function(e){return M(e.target.value)}})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:6,xl:6,children:Object(x.jsx)(xe.a.Item,{label:"Email",children:Object(x.jsx)(pe.a,{label:"Email",type:"text",value:V,onChange:function(e){return D(e.target.value)}})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:6,xl:6,children:Object(x.jsx)(xe.a.Item,{label:"State",children:Object(x.jsx)(he.a.Group,{onChange:function(e){return G(e.target.value)},value:H,children:T().states.map((function(e){return Object(x.jsx)(he.a,{value:e.catId,children:e.catNombre},e.catId)}))})})})]}),Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{type:"default",onClick:function(){e.push("/usernew")},loading:j,disabled:j,children:"New User"}),Object(x.jsx)(ue.a,{type:"primary",onClick:function(){return ie()},loading:j,disabled:j,children:"Refresh"})]})})})})]}),Object(x.jsx)(me.a,Object(d.a)(Object(d.a)({},{bordered:!1,loading:!1,title:"",showHeader:!0,size:"medium",pagination:{position:["none","bottomRight"]}}),{},{rowKey:"usuId",columns:ne,dataSource:g,loading:j,rowClassName:"mgeChangePassword"})),Object(x.jsx)(Oe.a,{title:te(q),placement:"right",onClose:ce,open:X,extra:Object(x.jsx)(oe.b,{children:Object(x.jsx)(ue.a,{onClick:ce,disabled:j,children:"Cancel"})}),children:w&&Object(x.jsx)(qe,{user:w,resetPassword:re,isReseting:ee,closeResetPassword:ce})})]})},He=a(7),Ge=a(302),Je=a(521),Ke=a(517),Xe=a(516),$e=a(535),Qe=a(537),Ze=a(538),et=a(211),tt=a(62),at=a.n(tt),nt=new Le,rt=Ve.a.Option,ct=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().id,a=Object(n.useState)(!0),r=Object(i.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(!1),g=Object(i.a)(h,2),I=g[0],w=g[1],C=Object(n.useState)(!0),S=Object(i.a)(C,2),N=S[0],P=S[1],k=Object(n.useState)(null),F=Object(i.a)(k,2),E=F[0],_=F[1],R=Object(n.useState)(null),L=Object(i.a)(R,2),A=L[0],V=L[1],D=Object(n.useState)(),U=Object(i.a)(D,2),B=U[0],q=U[1],Y=Object(n.useState)([]),M=Object(i.a)(Y,2),z=M[0],W=M[1],H={onRemove:function(e){var t=z.indexOf(e),a=z.slice();a.splice(t,1),W(a),q(null)},beforeUpload:function(e){return W([].concat(Object(He.a)(z),[e])),q(URL.createObjectURL(e)),!1},fileList:z},G=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.usuId,(n=new FormData).append("file",z[0]),n.append("usuId",a),e.prev=4,e.next=7,nt.upLoadPhoto({datos:n});case 7:r=e.sent,(c=r.data)&&c.listObject.length>0&&c.listObject[0].usuId&&ve.a.success("User updated successfully"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),ve.a.error("Upload failed");case 15:return e.prev=15,w(!1),W([]),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[4,12,15,19]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(d.a)(Object(d.a)({},a),{},{trabaja:N,codigotel:a.countryCode.catValor,sexoId:a.sexo.catId,paisId:a.pais.catId,estadoId:a.estado.catId}),V(null),w(!0),t.prev=3,t.next=6,nt.set({navigate:e,usuario:n});case 6:r=t.sent,c=r.data,s=c.listObject[0],_(s),z.length>0?G(s):(w(!1),ve.a.success("User updated successfully")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),w(!1),V("An error ocurred");case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!1),p(!0),V(null),a.prev=3,a.next=6,nt.get({navigate:e,usuario:{usuId:t}});case 6:n=a.sent,(r=n.data)?(c=r.listObject[0],s=Object(d.a)(Object(d.a)({},c),{},{countryCode:{catValor:c.codigotel.replace("+","")},fechanac:at()(v()(c.fechanac.substring(0,10),"YYYY-MM-DD").$d)}),_(s),P(s.trabaja)):V("An error ocurred"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),i=a.t0.response,V(409===i.status?i.data[0].messageText:"An error ocurred");case 15:return a.prev=15,p(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,11,15,18]])})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&K()})),A?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:A}),Object(x.jsx)(s.b,{to:"/users",children:"Return to home"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a,{align:"middle",gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(s.b,{to:"/users",children:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:4,style:{margin:0},children:"User"})})]}),Object(x.jsx)(be.a,{}),b?Object(x.jsxs)("div",{className:"p-10 text-center",children:[Object(x.jsx)(Ge.a,{size:"large"}),Object(x.jsx)("br",{}),Object(x.jsx)(f.a.Text,{children:"Please wait..."})]}):Object(x.jsx)(x.Fragment,{children:E&&Object(x.jsx)(xe.a,{layout:"vertical",initialValues:E,onFinish:J,disabled:I,children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"file",label:"Upload your profile picture",children:Object(x.jsxs)(m.a,{gutter:[0,10],children:[Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:B?Object(x.jsx)(Je.a,{src:B,width:128,height:128}):E.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(E.imagen.split("/")[E.imagen.split("/").length-1]),width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ke.a,Object(d.a)(Object(d.a)({multiple:!1},H),{},{children:Object(x.jsx)(ue.a,{type:"primary",icon:Object(x.jsx)(Ze.a,{}),disabled:z.length>0,children:"Select Photo"})}))})]})})}),Object(x.jsx)(O.a,{xs:24,sm:16,md:16,lg:16,xl:16,xxl:16,children:Object(x.jsxs)(m.a,{gutter:[15,0],children:[Object(x.jsxs)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:[Object(x.jsx)(xe.a.Item,{name:"usuId",label:"ID",rules:[{required:!0,message:"Complete ID"}],style:{display:"none"},children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",rules:[{required:!0,message:"Complete first Name"}],children:Object(x.jsx)(pe.a,{})})]}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",rules:[{required:!0,message:"Complete last Name"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexo","catId"],label:"Sex",rules:[{required:!0,message:"Select sex"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().generos,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date of birth",rules:[{required:!0,message:"Select date of birth"}],children:Object(x.jsx)(Xe.a,{style:{width:"100%"},disabledDate:y})})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"ID Number"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"This is the unique identification number issued by the country of residence."}),placement:"right",children:Object(x.jsx)(et.a,{})})]}),rules:[{required:!0,message:"Complete ID Number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:["pais","catId"],label:"Country",rules:[{required:!0,message:"Select country"}],children:Object(x.jsx)(Ve.a,{name:"paisId",children:T().paises.map((function(e){return t=e,Object(x.jsx)(rt,{value:t.catId,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catNombre}),"\xa0",t.catNombre]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"ciudad",label:"City",rules:[{required:!0,message:"Complete city"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:["countryCode","catValor"],label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Country Code"}),rules:[{required:!0,message:"Select country code"}],children:Object(x.jsx)(Ve.a,{name:"codigotel",children:T().paises.map((function(e){return t=e,Object(x.jsx)(rt,{value:t.catValor,children:Object(x.jsxs)(x.Fragment,{children:["+(",t.catValor,")\xa0",Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catDescripcion})]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Phone Number"}),rules:[{required:!0,message:"Complete phone number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"Are you currently working?"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"Please write the complete name of the institution."}),placement:"right",children:Object(x.jsx)(et.a,{})}),Object(x.jsx)($e.a,{checked:E.trabaja,onChange:function(e){P(e)}})]}),rules:[{required:E.trabaja,message:"If yes, please write the complete name of the institution."}],children:Object(x.jsx)(pe.a,{name:"lugartrabajo",disabled:!E.trabaja})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Complete email"},{type:"email",message:"Email is not valid"}],children:Object(x.jsx)(pe.a,{disabled:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",rules:[{required:!0,message:"Complete additional email"},{type:"email",message:"Additional email is not valid"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["estado","catId"],label:"State",rules:[{required:!0,message:"Select state"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().states,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{type:"default",disabled:I,onClick:function(){e.push("/users")},children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:I,disabled:I,children:"Save"})]})})})]})})})]})},st=a(4),it=a(312),lt=a(531),ot=a(306),dt=a(313),ut=a(539),jt=a(540),bt=a(137),xt=a(541),pt=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.gets=function(e){var t=e.navigate;return Se(t).get("".concat(Ne,"/OptionServiceRest/getOptionsList"))},this.getsPorPadre=function(e){var t=e.navigate,a=e.opcion;return Se(t).post("".concat(Ne,"/OptionServiceRest/getOptionsListByFather"),a)},this.get=function(e){var t=e.navigate,a=e.opcion;return Se(t).post("".concat(Ne,"/OptionServiceRest/getOptionById"),a)},this.set=function(e){var t=e.navigate,a=e.opcion;return void 0!==a.opcId&&null!==a.opcId&&""!==a.opcId?Se(t).patch("".concat(Ne,"/OptionServiceRest/updateOption"),a):Se(t).put("".concat(Ne,"/OptionServiceRest/insertOption"),a)},this.del=function(e){var t=e.navigate,a=e.opcion;return Se(t).post("".concat(Ne,"/OptionServiceRest/deleteOption"),a)}})),ht=new pt,mt=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),g=h[0],v=h[1],y=Object(n.useState)(!1),I=Object(i.a)(y,2),w=I[0],C=I[1],T=Object(n.useState)([]),S=Object(i.a)(T,2),N=S[0],P=S[1],k=Object(n.useState)([]),F=Object(i.a)(k,2),E=F[0],_=F[1],R=Object(n.useState)({}),L=Object(i.a)(R,2),A=L[0],V=L[1],D=Object(n.useState)(null),U=Object(i.a)(D,2),B=U[0],q=U[1],Y=Object(n.useState)(!1),M=Object(i.a)(Y,2),z=M[0],W=M[1],H=xe.a.useForm(),G=Object(i.a)(H,1)[0],J=function(e){V(Object(d.a)(Object(d.a)({},A),{},Object(st.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)))};Object(n.useEffect)((function(){if(r){var t=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ht.gets({navigate:e});case 3:a=t.sent,(n=a.data)?(r=n.listObject.filter((function(e){return 1===e.opcNivel})).map((function(e){return{title:e.opcNombre,key:"".concat(e.opcId,"_").concat(e.opcNombre,"_").concat(e.opcNivel),children:e.opcHijos?e.opcHijos.map((function(e){return{title:e.opcNombre,key:"".concat(e.opcId,"_").concat(e.opcNombre,"_").concat(e.opcNivel)}})):[]}})),P(r),q(null),c(!1)):(c(!1),q("An error ocurred")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),c(!1),q("An error ocurred");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}}),[r,e]);var K=function(e){V(Object(d.a)({},e)),W(!0)},X=function(){W(!1)},$=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),a=E[0].key.split("_")[0],t.prev=2,t.next=5,ht.get({navigate:e,opcion:{opcId:a}});case 5:n=t.sent,(r=n.data)?(V(r.listObject[0]),q(null),b(!1)):(b(!1),q("An error ocurred")),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),b(!1),c=t.t0.response,q(409===c.status?c.data[0].messageText:"An error ocurred");case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,ht.set({navigate:e,opcion:A});case 4:a=t.sent,n=a.data,v(!1),n&&(V(n.listObject[0]),it.b.success("Opci\xf3n guardada correctamente"),c(!0)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),v(!1),r=t.t0.response,q(409===r.status?r.data[0].messageText:"An error ocurred");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),t.prev=1,t.next=4,ht.del({navigate:e,opcion:A});case 4:a=t.sent,n=a.data,C(!1),!0===n?(it.b.success("Opci\xf3n eliminada correctamente"),X(),c(!0)):it.b.error("No fue posible eliminar la opci\xf3n"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),C(!1),r=t.t0.response,q(409===r.status?r.data[0].messageText:"An error ocurred");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return B?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:B}),Object(x.jsx)(s.b,{to:"/",children:"Regresar al inicio"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a,{gutter:[10,10],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,children:Object(x.jsx)(m.a,{justify:"start",children:Object(x.jsx)(f.a.Title,{level:4,style:{margin:0},children:"Gesti\xf3n de Opciones"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,children:Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",onClick:function(e){return K(function(){var e=E&&E.length>0?Object(d.a)({},E[0]):{},t=e.key?parseInt(e.key.split("_")[2])+1:1;return b(!1),{opcNivel:t,opcNombre:"",opcOrden:"",opcUrl:"/",opcEstado:!0}}())},icon:Object(x.jsx)(dt.a,{}),children:"Nuevo"}),E&&1===E.length&&Object(x.jsx)(ue.a,{type:"default",onClick:function(e){return K($())},icon:Object(x.jsx)(ut.a,{}),children:"Editar"}),E&&E.length>0&&Object(x.jsx)(lt.a,{title:"\xbfSeguro(a) que desea eliminar las opciones seleccionados?",okText:"Si, eliminar",cancelText:"No",onConfirm:function(){return function(t){var a=[];E.forEach((function(t){a.push(ht.del({navigate:e,opcion:{opcId:t.key.split("_")[0],opcNombre:t.title}}))})),C(!0),Promise.all(a).then((function(e){_([]),C(!1),c(!0)})).catch((function(e){C(!1);var t=e.response,a=409===t.status?t.data[0].messageText:t.data;it.b.error("No fue posible eliminar la opci\xf3n: ".concat(a))}))}()},okButtonProps:{loading:w},children:Object(x.jsx)(ue.a,{type:"danger",disabled:w||r,loading:w,icon:Object(x.jsx)(jt.a,{}),children:w?"Eliminando":"Eliminar"})}),Object(x.jsx)(ue.a,{type:"primary",onClick:function(){c(!0)},loading:r,icon:Object(x.jsx)(bt.a,{}),children:"Consultar"})]})})})]}),Object(x.jsx)(be.a,{}),Object(x.jsx)(ot.a,{checkable:!1,treeData:N,onSelect:function(e,t){var a=t.selectedNodes;_(a)}}),Object(x.jsx)(Oe.a,{title:Object(x.jsx)(x.Fragment,{children:"Opci\xf3n"}),placement:"right",closable:!0,onClose:X,open:z,children:Object(x.jsxs)(xe.a,{layout:"vertical",form:G,initialValues:{},children:[Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Nombre",children:Object(x.jsx)(pe.a,{id:"opcNombre",name:"opcNombre",label:"Nombre",type:"text",value:A.opcNombre,onChange:J})})}),Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"URL",children:Object(x.jsx)(pe.a,{id:"opcUrl",name:"opcUrl",label:"URL",type:"text",value:A.opcUrl,onChange:J})})})]}),Object(x.jsx)(m.a,{gutter:10,children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Orden",children:Object(x.jsx)(pe.a,{id:"opcOrden",name:"opcOrden",label:"Orden",type:"text",value:A.opcOrden,onChange:J})})})}),Object(x.jsx)(m.a,{gutter:10,children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Icono",children:Object(x.jsx)(pe.a,{id:"opcIcono",name:"opcIcono",label:"Icono",type:"text",value:A.opcIcono,onChange:J})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Estado",children:Object(x.jsx)(Ae.a,{id:"opcEstado",name:"opcEstado",onChange:J,checked:A.opcEstado,children:A.opcEstado?"Habilitado":"Deshabilitado"})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"primary",onClick:function(e){return Q(e)},disabled:j||g||w,loading:g,icon:Object(x.jsx)(xt.a,{}),children:g?"Guardando":"Guardar"}),A&&A.opcId&&Object(x.jsx)(lt.a,{title:"\xbfSeguro(a) que desea eliminar la opci\xf3n?",okText:"Si, eliminar",cancelText:"No",onConfirm:function(){return Z()},okButtonProps:{loading:w},children:Object(x.jsx)(ue.a,{type:"danger",disabled:j||w||g,loading:w,icon:Object(x.jsx)(jt.a,{}),children:w?"Eliminando":"Eliminar"})})]})})})})]})})]})},Ot=a(522),ft=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.gets=function(e){var t=e.navigate;return Se(t).get("".concat(Ne,"/ProfileServiceRest/getProfilesList"))},this.get=function(e){var t=e.navigate,a=e.perfil;return Se(t).post("".concat(Ne,"/ProfileServiceRest/getProfileById"),a)},this.set=function(e){var t=e.navigate,a=e.perfil;return Se(t).post(void 0!==a.perId&&null!==a.perId&&""!==a.perId?"".concat(Ne,"/ProfileServiceRest/updateProfile"):"".concat(Ne,"/ProfileServiceRest/insertProfile"),a)},this.del=function(e){var t=e.navigate,a=e.perfil;return Se(t).post("".concat(Ne,"/ProfileServiceRest/deleteProfile"),a)}})),gt=new ft,vt=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),g=h[0],v=h[1],y=Object(n.useState)([]),I=Object(i.a)(y,2),w=I[0],C=I[1],T=Object(n.useState)([]),S=Object(i.a)(T,2),N=S[0],P=S[1],k=Object(n.useState)({}),F=Object(i.a)(k,2),E=F[0],_=F[1],R=Object(n.useState)(null),L=Object(i.a)(R,2),A=L[0],V=L[1],D=Object(n.useState)(!1),U=Object(i.a)(D,2),B=U[0],q=U[1],Y=xe.a.useForm(),M=Object(i.a)(Y,1)[0],z=[{title:"Name",dataIndex:"unique",render:function(e){return Object(x.jsx)(s.b,{to:"/perfil/".concat(e.key,"/").concat(e.label),children:e.label})}},{title:"Level",dataIndex:"perNivel",responsive:["xl"]},{title:"State",dataIndex:"perEstado",render:function(e){return Object(x.jsxs)(x.Fragment,{children:[" ",e?"ACTIVE":"INACTIVE"," "]})}}],W={onChange:function(e,t){P(t)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},H=function(e){_(Object(d.a)(Object(d.a)({},E),{},Object(st.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)))};Object(n.useEffect)((function(){if(r){var t=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.gets({navigate:e});case 3:a=t.sent,(n=a.data)?(r=n.listObject.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{unique:{key:e.perId,label:e.perNombre}})})),C(r),V(null),c(!1)):(c(!1),V("An error ocurred")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),c(!1),V("An error ocurred");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}}),[r,e]);var G=function(){q(!1)},J=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.prev=1,t.next=4,gt.set({navigate:e,perfil:E});case 4:a=t.sent,n=a.data,b(!1),n&&(_(n.listObject[0]),it.b.success("Profile saved successfully"),c(!0)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),b(!1),r=t.t0.response,V(409===r.status?r.data[0].messageText:"An error ocurred");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,gt.del({navigate:e,perfil:E});case 4:a=t.sent,n=a.data,v(!1),!0===n?(c(!0),it.b.success("Profile deleted successfully"),G()):it.b.error("An error ocurred"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),v(!1),r=t.t0.response,V(409===r.status?r.data[0].messageText:"An error ocurred");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return A?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:A}),Object(x.jsx)(s.b,{to:"/",children:"Return to home"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a,{gutter:[10,10],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,children:Object(x.jsx)(m.a,{justify:"start",children:Object(x.jsx)(f.a.Title,{level:4,style:{margin:0},children:"Profiles Management"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,children:Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",onClick:function(e){return t={perEstado:!0,perNivel:"",perNombre:""},_(Object(d.a)({},t)),void q(!0);var t},children:"New Profile"}),N&&N.length>0&&Object(x.jsx)(lt.a,{title:"Are you sure you want to delete the selected profiles?",okText:"Yes, deleter",cancelText:"No",onConfirm:function(){return function(t){var a=[];N.forEach((function(t){a.push(gt.del({navigate:e,perfil:Object(d.a)({},t)}))})),v(!0),Promise.all(a).then((function(e){P([]),v(!1),c(!0)})).catch((function(e){b(!1);var t=e.response,a=409===t.status?t.data[0].messageText:t.data;it.b.error("An error ocurred: ".concat(a))}))}()},okButtonProps:{loading:g},children:Object(x.jsx)(ue.a,{type:"danger",disabled:r||g,loading:g,children:g?"Deleting":"Delete"})}),Object(x.jsx)(ue.a,{type:"primary",onClick:function(){c(!0)},loading:r,children:"Refresh"})]})})})]}),Object(x.jsx)(be.a,{}),Object(x.jsx)(me.a,Object(d.a)(Object(d.a)({},{bordered:!1,loading:!1,title:"",showHeader:!0,rowSelection:{},size:"medium",pagination:{position:["none","none"]}}),{},{rowKey:"perId",rowSelection:Object(d.a)({type:"checkbox"},W),columns:z,dataSource:w,loading:r})),Object(x.jsx)(Oe.a,{title:"Profile",placement:"right",closable:!0,onClose:G,open:B,children:Object(x.jsxs)(xe.a,{layout:"vertical",form:M,initialValues:{layout:"vertical"},children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Name",children:Object(x.jsx)(pe.a,{id:"perNombre",name:"perNombre",label:"Nombre",type:"text",value:E.perNombre,onChange:H})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Level",children:Object(x.jsx)(Ot.a,{id:"perNivel",name:"perNivel",label:"Level",min:1,max:50,value:E.perNivel,onChange:function(e){_(Object(d.a)(Object(d.a)({},E),{},{perNivel:e}))}})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"State",children:Object(x.jsx)(Ae.a,{id:"perEstado",name:"State",onChange:H,checked:E.perEstado,children:E.perEstado?"Active":"Inactive"})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"primary",onClick:function(e){return J(e)},disabled:j||g,loading:j,children:j?"Saving":"Save"}),E&&E.perId&&Object(x.jsx)(lt.a,{title:"Are you sure you want to delete the profile?",okText:"Yes, delete",cancelText:"No",onConfirm:function(){return K()},okButtonProps:{loading:g},children:Object(x.jsx)(ue.a,{type:"danger",disabled:r||g||j,loading:g,children:g?"Deleting":"Delete"})})]})})})})]})})]})},yt=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.gets=function(e){var t=e.navigate;return Se(t).get("".concat(Ne,"/ProfileOptionServiceRest/getOptionsByProfileList"))},this.set=function(e){var t=e.navigate,a=e.perfilOpcion;return Se(t).post("".concat(Ne,"/PerfilOptionServiceRest/updateProfileOption"),a)}})),It=new ft,wt=new pt,Ct=new yt,Tt=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().id,a=Object(n.useState)(!0),r=Object(i.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(!1),g=Object(i.a)(h,2),v=g[0],y=g[1],I=Object(n.useState)(!1),w=Object(i.a)(I,2),C=w[0],T=w[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),P=N[0],k=N[1],F=Object(n.useState)({}),E=Object(i.a)(F,2),_=E[0],R=E[1],L=Object(n.useState)(null),A=Object(i.a)(L,2),V=A[0],D=A[1],U=xe.a.useForm(),B=Object(i.a)(U,1)[0],q=Object(n.useState)([]),Y=Object(i.a)(q,2),M=Y[0],z=Y[1],W=[{title:"Option",dataIndex:"opcNombre",key:"idOpcion"},{title:"Read",dataIndex:"opcLectura",render:function(e,t,a){return Object(x.jsx)($e.a,{onChange:function(){return H(e,t,"opcLectura")},defaultChecked:t.opcLectura})}},{title:"Write",dataIndex:"opcEscritura",render:function(e,t,a){return Object(x.jsx)($e.a,{onChange:function(){return H(e,t,"opcEscritura")},defaultChecked:t.opcEscritura})}}],H=function(){var t=Object(se.a)(le.a.mark((function t(a,n,r){var c,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"opcLectura"===r?n.opcLectura=!n.opcLectura:"opcEscritura"===r&&(n.opcEscritura=!n.opcEscritura),T(!0),t.prev=2,t.next=5,Ct.set({navigate:e,perfilOpcion:n});case 5:c=t.sent,s=c.data,T(!1),i=s.listObject[0],it.b.success("Option ".concat(i.pfoOpcId.opcNombre," updated successfully")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),T(!1),D("An error ocurred");case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n){return t.apply(this,arguments)}}(),G=function(e){R(Object(d.a)(Object(d.a)({},_),{},Object(st.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)))},J=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!1),p(!0),a.prev=2,a.next=5,It.get({navigate:e,perfil:{perId:t}});case 5:n=a.sent,(r=n.data)?(R(r.listObject[0]),D(null),K()):D("An error ocurred"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),c=a.t0.response,D(409===c.status?c.data[0].messageText:"An error ocurred");case 14:return a.prev=14,p(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,10,14,17]])})));return function(){return a.apply(this,arguments)}}(),K=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i,l,o;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(!0),a.prev=1,a.next=4,Ct.gets({navigate:e});case 4:if(n=a.sent,!(r=n.data)){a.next=23;break}return c=r.listObject[0].filter((function(e){return e.idPerfil===parseInt(t)})),D(null),a.prev=9,a.next=12,wt.gets({navigate:e});case 12:s=a.sent,(i=s.data)?(l=i.listObject.filter((function(e){return 1===e.opcNivel})).map((function(e){return Object(d.a)({key:"".concat(e.opcId),opcNombre:e.opcNombre},c.filter((function(t){return t.idOpcion===e.opcId}))[0])})),z(l),D(null),y(!1)):(y(!1),D("An error ocurred")),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(9),y(!1),D("An error ocurred");case 21:a.next=24;break;case 23:D("An error ocurred");case 24:a.next=30;break;case 26:a.prev=26,a.t1=a.catch(1),o=a.t1.response,D(409===o.status?o.data[0].messageText:"An error ocurred");case 30:return a.prev=30,y(!1),a.finish(30);case 33:case"end":return a.stop()}}),a,null,[[1,26,30,33],[9,17]])})));return function(){return a.apply(this,arguments)}}(),X=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.prev=1,t.next=4,It.set({navigate:e,perfil:_});case 4:n=t.sent,r=n.data,T(!1),c=r.listObject[0],R(c),it.b.success("Profile saved successfully"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),T(!1),D("An error ocurred");case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,t.next=4,It.del({navigate:e,perfil:_});case 4:n=t.sent,r=n.data,k(!1),!0===r?(it.b.success("Profile deleted"),e.push("/perfiles")):it.b.error("An error ocurred"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),k(!1),c=t.t0.response,D(409===c.status?c.data[0].messageText:"An error ocurred");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&J()})),V?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:V}),Object(x.jsx)(s.b,{to:"/perfiles",children:"Return to home"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a,{align:"middle",gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(s.b,{to:"/perfiles",children:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Title,{level:4,style:{margin:0},children:["Profile ",_&&_.perNombre]})})]}),Object(x.jsx)(be.a,{}),b?Object(x.jsxs)("div",{className:"p-10 text-center",children:[Object(x.jsx)(Ge.a,{size:"large"}),Object(x.jsx)("br",{}),Object(x.jsx)(f.a.Text,{children:"Please wait..."})]}):Object(x.jsxs)(xe.a,{layout:"vertical",form:B,initialValues:{layout:"vertical"},children:[Object(x.jsx)(m.a,{gutter:10,children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Name",children:Object(x.jsx)(pe.a,{id:"perNombre",name:"perNombre",label:"Name",type:"text",value:_.perNombre,onChange:G})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"Level",children:Object(x.jsx)(Ot.a,{id:"perNivel",name:"perNivel",label:"Level",min:1,max:50,value:_.perNivel,onChange:function(e){R(Object(d.a)(Object(d.a)({},_),{},{perNivel:e}))}})})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:24,md:24,lg:24,xl:24,children:Object(x.jsx)(xe.a.Item,{label:"State",children:Object(x.jsx)(Ae.a,{id:"perEstado",name:"perEstado",onChange:G,checked:_.perEstado,children:_.perEstado?"ACTIVE":"INACTIVE"})})})}),Object(x.jsx)(be.a,{children:"Options"}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(me.a,{columns:W,dataSource:M,loading:v||C})})}),Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"primary",onClick:function(e){return X(e)},disabled:C||P,loading:C,children:C?"Saving":"Save"}),Object(x.jsx)(lt.a,{title:"Are you sure you want to delete the profile?",okText:"Yes, delete",cancelText:"No",onConfirm:function(e){return $(e)},okButtonProps:{loading:P},children:Object(x.jsx)(ue.a,{type:"danger",disabled:P||C,loading:P,children:P?"Deleting":"Delete"})})]})})})})]})]})},St=a(532),Nt=a(529),Pt=a(542),kt=new Le,Ft={bordered:!1,loading:!1,title:"",showHeader:!0,size:"medium",pagination:{position:["none","bottomRight"]}},Et=[{title:"",render:function(e,t){return t.imagen&&Object(x.jsx)("img",{alt:"",src:"/images/".concat(t.imagen.split("/")[t.imagen.split("/").length-1]),width:32,height:32})||Object(x.jsx)("img",{alt:"",src:"./assets/user.png",width:32,height:32})}},{title:"Name",dataIndex:"nombres",render:function(e,t){return"".concat(t.nombres)}},{title:"Last Name",dataIndex:"apellidos",render:function(e,t){return"".concat(t.apellidos)}},{title:"Country",dataIndex:"pais",render:function(e,t){var a=t.pais;return Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)(de.a,{title:a.catDescripcion,children:Object(x.jsx)("img",{src:"https://flagcdn.com/32x24/".concat(a.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/32x24/".concat(a.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/96x72/").concat(a.catDescripcion.toLowerCase(),".png 3x"),width:"32",height:"24",alt:a.catDescripcion})})})},responsive:["md","lg","xl","xxl"]},{title:Object(x.jsx)("div",{style:{textAlign:"center"},children:"Role"}),dataIndex:"role",render:function(e,t){var a=t.perfiles;return Object(x.jsx)("div",{style:{textAlign:"center"},children:a[0].perNombre})},responsive:["md","lg","xl","xxl"]},{title:"Actions",render:function(e,t){return Object(x.jsx)(ue.a,{type:"primary",href:"/#/user/".concat(t.usuId),children:"View"})}}],_t=[{id:1,props:{bordered:!1,hoverable:!0,style:{background:"#54873C",color:"#f0f0f0"}},data:{title:Object(x.jsx)(f.a.Text,{style:{color:"#ffffff"},children:"TRAINER OF TRAINERS"}),value:10,precision:2,prefix:Object(x.jsx)(Pt.a,{}),suffix:"%"},description:Object(x.jsx)(x.Fragment,{children:"120 Users"})},{id:2,props:{bordered:!1,hoverable:!0,style:{background:"#70B450",color:"#f0f0f0"}},data:{title:Object(x.jsx)(f.a.Text,{style:{color:"#ffffff"},children:"TRAINER"}),value:10,precision:2,prefix:Object(x.jsx)(Pt.a,{}),suffix:"%"},description:Object(x.jsx)(x.Fragment,{children:"120 Users"})},{id:3,props:{bordered:!1,hoverable:!0,style:{background:"#385A28",color:"#f0f0f0"}},data:{title:Object(x.jsx)(f.a.Text,{style:{color:"#ffffff"},children:"APPLICANTS"}),value:80,precision:2,prefix:Object(x.jsx)(Pt.a,{}),suffix:"%"},description:Object(x.jsx)(x.Fragment,{children:"120 Users"})},{id:4,props:{bordered:!1,hoverable:!0,style:{background:"#636466",color:"#f0f0f0"}},data:{title:Object(x.jsx)(f.a.Text,{style:{color:"#ffffff"},children:"BENEFICIARIES"}),value:150,precision:0,prefix:Object(x.jsx)(Pt.a,{}),suffix:""},description:Object(x.jsx)(x.Fragment,{children:"\xa0"})}],Rt=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)([]),p=Object(i.a)(b,2),h=p[0],g=p[1],v=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!1),j(!0),t.prev=2,t.next=5,kt.getLessPostulants({navigate:e});case 5:a=t.sent,(n=a.data)?(r=n.listObject,g(r)):ve.a.error("An error ocurred"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),s=t.t0.response,ve.a.error(409===s.status?s.data[0].messageText:"An error occurred");case 14:return t.prev=14,j(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){r&&v()})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{gutter:[15,15],children:_t&&_t.map((function(e){return function(e){var t=e.id,a=e.props,n=e.data,r=e.description;return Object(x.jsx)(O.a,{xs:12,sm:6,md:6,lg:6,xl:6,xxl:6,children:Object(x.jsxs)(St.a,Object(d.a)(Object(d.a)({},a),{},{children:[Object(x.jsx)(Nt.a,Object(d.a)(Object(d.a)({},n),{},{valueStyle:{color:"#ffffff"}})),r]}))},t)}(e)}))}),Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsx)(O.a,{style:{padding:"15px 0"},children:Object(x.jsx)(xe.a,{layout:"inline",children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{type:"default",onClick:function(){return v()},children:"Refresh"})})})})}),u?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(me.a,Object(d.a)(Object(d.a)({},Ft),{},{rowKey:"usuId",columns:Et,dataSource:h}))})})]})},Lt=a(530),At=a(243),Vt=a(536),Dt=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.getByTraining=function(e){var t=e.navigate,a=e.trainer;return Se(t).post("".concat(Ne,"/TrainingServiceRest/getTrainingByTrainer"),a)},this.getById=function(e){var t=e.navigate,a=e.training;return Se(t).post("".concat(Ne,"/TrainingServiceRest/getTrainingById"),a)},this.put=function(e){var t=e.navigate,a=e.training;return Se(t).put("".concat(Ne,"/TrainingServiceRest/insertTraining"),a)},this.set=function(e){var t=e.navigate,a=e.training;return Se(t).patch(ke(),a)},this.pub=function(e){var t=e.navigate,a=e.training;return Se(t).patch(ke(),a)}})),Ut=new Le,Bt=new Dt,qt=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().id,a=Object(n.useState)(!0),r=Object(i.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(null),g=Object(i.a)(h,2),v=g[0],y=g[1],I=Object(n.useState)([]),w=Object(i.a)(I,2),C=w[0],T=w[1],S=Object(n.useState)(null),N=Object(i.a)(S,2),P=N[0],k=N[1],F=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={idUsuario:t},a.prev=1,a.next=4,Bt.getByTraining({navigate:e,trainer:n});case 4:r=a.sent,(c=r.data)?T(c.listObject):ve.a.error("An error ocurred"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),s=a.t0.response,ve.a.error(409===s.status?s.data[0].messageText:"An error ocurred");case 13:return a.prev=13,p(!1),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,9,13,16]])})));return function(){return a.apply(this,arguments)}}(),E=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!1),k(null),p(!0),a.prev=3,a.next=6,Ut.get({navigate:e,usuario:{usuId:t}});case 6:n=a.sent,(r=n.data)?(c=r.listObject[0],s=Object(d.a)(Object(d.a)({},c),{},{fechanac:c.fechanac.substring(0,10)}),y(s),F()):(p(!1),k("An error ocurred")),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(3),p(!1),i=a.t0.response,k(409===i.status?i.data[0].messageText:"An error ocurred");case 16:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&E()})),P?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:P}),Object(x.jsx)(s.b,{to:"/dashboard",children:"Regresar al inicio"})]})}):Object(x.jsx)(x.Fragment,{children:b?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):v&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"mgeCard",children:Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){e.push("/dashboard")}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"".concat(v.nombres||"Postulante"," ").concat(v.apellidos||"")})]})})})})})}),Object(x.jsx)(At.a,{centered:!0,items:[{key:1,label:Object(x.jsx)(f.a.Text,{style:{fontSize:"1.1em",letterSpacing:"1px"},children:"Information"}),children:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(m.a,{gutter:[25,25],justify:"center",children:[Object(x.jsx)(O.a,{xs:22,sm:20,md:6,lg:6,xl:6,xxl:4,children:Object(x.jsxs)(m.a,{gutter:[15,15],style:{textAlign:"center"},children:[Object(x.jsx)(O.a,{span:24,children:v.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(v.imagen.split("/")[v.imagen.split("/").length-1]),width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:24,lg:24,xl:24,xxl:24,style:{textAlign:"left"},children:Object(x.jsxs)(f.a.Paragraph,{children:[Object(x.jsx)(f.a.Text,{strong:!0,children:"Role:"}),Object(x.jsx)("br",{}),v.perfiles&&v.perfiles[0].perNombre]})})]})}),Object(x.jsx)(O.a,{xs:22,sm:20,md:14,lg:14,xl:14,xxl:10,children:Object(x.jsx)(xe.a,{initialValues:v,layout:"vertical",children:Object(x.jsxs)(m.a,{gutter:[25,5],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexo","catNombre"],label:"Sex",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date Birth",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["pais","catNombre"],label:"Country",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["ciudad"],label:"City",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"codigotel",label:"Country Code",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:"Phone number",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:"ID Number",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:"Currenty Working",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",children:Object(x.jsx)(pe.a,{readOnly:!0})})})]})})})]})})},{key:2,label:Object(x.jsx)(f.a.Text,{style:{fontSize:"1.1em",letterSpacing:"1px"},children:"Trainings"}),children:Object(x.jsx)(x.Fragment,{children:C&&C.length>0?Object(x.jsx)(x.Fragment,{children:C.map((function(t){return function(t){var a=t.entEstado,n=t.entFechaFin,r=t.entFechaIni,c=t.entId,s=(t.entModalidad,t.entNombre);return t.entPais,t.numPostulantes,Object(x.jsx)(St.a,{bordered:!1,style:{marginBottom:"10px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:12,sm:6,md:6,lg:6,xl:6,xxl:6,style:{paddingTop:"4px"},children:Object(x.jsx)(f.a.Text,{strong:!0,children:s})}),Object(x.jsx)(O.a,{xs:12,sm:6,md:6,lg:6,xl:6,xxl:6,style:{textAlign:"center",paddingTop:"4px"},children:Object(x.jsx)(f.a.Text,{strong:!0,children:Object(x.jsx)(Lt.a,{color:"ACTIVE"===a.catValor?"#54873C":"INACTIVE"===a.catValor?"red":"#636466",text:a.catNombre})})}),Object(x.jsx)(O.a,{xs:12,sm:6,md:6,lg:6,xl:6,xxl:6,style:{paddingTop:"4px"},children:Object(x.jsxs)(f.a.Text,{strong:!0,children:[r.substring(0,10).split("-").reverse().join("/")," - ",n.substring(0,10).split("-").reverse().join("/")]})}),Object(x.jsx)(O.a,{xs:12,sm:6,md:6,lg:6,xl:6,xxl:6,style:{textAlign:"center"},children:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/traininginfo/".concat(c))},children:"View"})})]})},c)}(t)}))}):Object(x.jsx)(Vt.a,{description:"Trainings not found.",type:"info",showIcon:!0,style:{borderRadius:"12px",border:"none"}})})}]})]})})},Yt=new Le,Mt=new ft,zt=Ve.a.Option,Wt=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),g=h[0],v=h[1],I=Object(n.useState)(!1),w=Object(i.a)(I,2),C=w[0],S=w[1],N=Object(n.useState)([]),P=Object(i.a)(N,2),k=P[0],F=P[1],E=Object(n.useState)(null),_=Object(i.a)(E,2),R=_[0],L=_[1],A=Object(n.useState)(""),V=Object(i.a)(A,2),D=V[0],U=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),Y=q[0],M=q[1],z=Object(n.useState)(!1),W=Object(i.a)(z,2),H=W[0],G=W[1],J=Object(n.useState)(),K=Object(i.a)(J,2),X=K[0],$=K[1],Q=Object(n.useState)([]),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ae={onRemove:function(e){var t=ee.indexOf(e),a=ee.slice();a.splice(t,1),te(a),$(null)},beforeUpload:function(e){return te([].concat(Object(He.a)(ee),[e])),$(URL.createObjectURL(e)),!1},fileList:ee},ne=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.usuId,(r=new FormData).append("file",ee[0]),r.append("usuId",n),t.prev=4,t.next=7,Yt.upLoadPhoto({datos:r});case 7:c=t.sent,(s=c.data)&&s.listObject.length>0&&s.listObject[0].usuId&&(ve.a.success("User created successfully"),e.push("/users")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),ve.a.error("Upload failed");case 15:return t.prev=15,v(!1),te([]),t.finish(15);case 19:case"end":return t.stop()}}),t,null,[[4,12,15,19]])})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(d.a)(Object(d.a)({},a),{},{password:Me()(a.password),passwordConfirm:Me()(a.passwordConfirm)}),L(null),v(!0),t.prev=3,t.next=6,Yt.new({navigate:e,usuario:n});case 6:r=t.sent,c=r.data,s=c.listObject[0],ee.length>0?ne(s):(v(!1),ve.a.success("User created successfully"),e.push("/users")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),v(!1),L("An error ocurred");case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}(),ce=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(null),c(!1),b(!0),t.prev=3,t.next=6,Mt.gets({navigate:e});case 6:a=t.sent,(n=a.data)?(r=n.listObject,F(r)):L("An error ocurred"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),L("An error ocurred");case 14:return t.prev=14,b(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){r&&ce()})),R?Object(x.jsx)(je.a,{status:"warning",title:"",subTitle:"",extra:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{children:R}),Object(x.jsx)(s.b,{to:"/users",children:"Return to home"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a,{align:"middle",gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(s.b,{to:"/users",children:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:4,style:{margin:0},children:"New User"})})]}),Object(x.jsx)(be.a,{}),j?Object(x.jsxs)("div",{className:"p-10 text-center",children:[Object(x.jsx)(Ge.a,{size:"large"}),Object(x.jsx)("br",{}),Object(x.jsx)(f.a.Text,{children:"Please wait..."})]}):Object(x.jsx)(x.Fragment,{children:k&&Object(x.jsx)(xe.a,{layout:"vertical",onFinish:re,disabled:g,children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"file",label:"Upload your profile picture",children:Object(x.jsxs)(m.a,{gutter:[0,10],children:[Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:X?Object(x.jsx)(Je.a,{src:X,width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ke.a,Object(d.a)(Object(d.a)({multiple:!1},ae),{},{children:Object(x.jsx)(ue.a,{type:"primary",icon:Object(x.jsx)(Ze.a,{}),disabled:ee.length>0,children:"Select Photo"})}))})]})})}),Object(x.jsx)(O.a,{xs:24,sm:16,md:16,lg:16,xl:16,xxl:16,children:Object(x.jsxs)(m.a,{gutter:[15,0],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",rules:[{required:!0,message:"Complete first Name"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",rules:[{required:!0,message:"Complete last Name"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexoId"],label:"Sex",rules:[{required:!0,message:"Select sex"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().generos,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date of birth",rules:[{required:!0,message:"Select date of birth"}],children:Object(x.jsx)(Xe.a,{style:{width:"100%"},disabledDate:y})})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"ID Number"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"This is the unique identification number issued by the country of residence."}),placement:"right",children:Object(x.jsx)(et.a,{})})]}),rules:[{required:!0,message:"Complete ID Number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:["paisId"],label:"Country",rules:[{required:!0,message:"Select country"}],children:Object(x.jsx)(Ve.a,{name:"paisId",children:T().paises.map((function(e){return t=e,Object(x.jsx)(zt,{value:t.catId,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catNombre}),"\xa0",t.catNombre]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"ciudad",label:"City",rules:[{required:!0,message:"Complete city"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:["codigotel"],label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Country Code"}),rules:[{required:!0,message:"Select country code"}],children:Object(x.jsx)(Ve.a,{name:"codigotel",children:T().paises.map((function(e){return t=e,Object(x.jsx)(zt,{value:t.catValor,children:Object(x.jsxs)(x.Fragment,{children:["+(",t.catValor,")\xa0",Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catDescripcion})]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Phone Number"}),rules:[{required:!0,message:"Complete phone number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"Are you currently working?"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"Please write the complete name of the institution."}),placement:"right",children:Object(x.jsx)(et.a,{})}),Object(x.jsx)($e.a,{onChange:function(e){S(e)}})]}),rules:[{required:C,message:"If yes, please write the complete name of the institution."}],children:Object(x.jsx)(pe.a,{name:"lugartrabajo",disabled:!C})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Complete email"},{type:"email",message:"Email is not valid"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",rules:[{required:!0,message:"Complete additional email"},{type:"email",message:"Additional email is not valid"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{label:"Create your password",name:"password",rules:[{required:!0,message:"Create your password"}],children:Object(x.jsx)(pe.a.Password,{id:"password",name:"password",onChange:function(e){return U(e.target.value)}})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{label:"Confirm your password",name:"passwordConfirm",rules:[{required:!0,message:"Confirm your password"}],children:Object(x.jsx)(pe.a.Password,{id:"passwordConfirm",name:"passwordConfirm",onChange:function(e){return M(e.target.value)}})})}),!1===H&&Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(De.a,{rules:["minLength","specialChar","number","capital","match"],minLength:8,value:D,valueAgain:Y,messages:{minLength:"Password has more than 8 characters.",specialChar:"Password has special characters.",number:"Password has a number.",capital:"Password has a capital letter.",match:"Passwords match."},onChange:function(e){G(e)},style:{padding:"0 0 20px 0"}})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["perId"],label:"Profile",rules:[{required:!0,message:"Select profile"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"perNombre",value:"perId"},showSearch:!0,options:k,optionFilterProp:"perNombre"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["estadoId"],label:"State",rules:[{required:!0,message:"Select state"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().states,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{type:"default",disabled:g,onClick:function(){e.push("/users")},children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:g,disabled:g,children:"Save"})]})})})]})})})]})},Ht=new Le,Gt=Ve.a.Option,Jt=function(e){var t=e.user,a=e.navigate,r=t.id,c=xe.a.useForm(),s=Object(i.a)(c,1)[0],l=Object(n.useState)(!0),o=Object(i.a)(l,2),u=o[0],j=o[1],b=Object(n.useState)(!1),p=Object(i.a)(b,2),h=p[0],g=p[1],I=Object(n.useState)(!1),w=Object(i.a)(I,2),C=w[0],S=w[1],N=Object(n.useState)(null),P=Object(i.a)(N,2),k=P[0],F=P[1],E=Object(n.useState)(!0),_=Object(i.a)(E,2),R=_[0],L=_[1],A=Object(n.useState)(),V=Object(i.a)(A,2),D=V[0],U=V[1],B=Object(n.useState)([]),q=Object(i.a)(B,2),Y=q[0],M=q[1],z={onRemove:function(e){var t=Y.indexOf(e),a=Y.slice();a.splice(t,1),M(a),U(null)},beforeUpload:function(e){return M([].concat(Object(He.a)(Y),[e])),U(URL.createObjectURL(e)),!1},fileList:Y},W=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.usuId,(n=new FormData).append("file",Y[0]),n.append("usuId",a),e.prev=4,e.next=7,Ht.upLoadPhoto({datos:n});case 7:r=e.sent,(c=r.data)&&c.listObject.length>0&&c.listObject[0].usuId&&ve.a.success("Profile updated successfully"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),ve.a.error("Upload failed");case 15:return e.prev=15,S(!1),M([]),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[4,12,15,19]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(se.a)(le.a.mark((function e(t){var n,r,c,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)(Object(d.a)({},t),{},{trabaja:R,codigotel:t.countryCode.catValor,sexoId:t.sexo.catId,paisId:t.pais.catId,estadoId:t.estado.catId}),S(!0),e.prev=2,e.next=5,Ht.set({navigate:a,usuario:n});case 5:r=e.sent,c=r.data,s=c.listObject[0],F(s),Y.length>0?W(s):(S(!1),ve.a.success("Profile updated successfully")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),S(!1),ve.a.error("An error ocurred");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(se.a)(le.a.mark((function e(){var t,n,c,s,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),g(!0),e.prev=2,e.next=5,Ht.get({navigate:a,usuario:{usuId:r}});case 5:t=e.sent,(n=t.data)?(c=n.listObject[0],s=Object(d.a)(Object(d.a)({},c),{},{countryCode:{catValor:c.codigotel.replace("+","")},fechanac:at()(v()(c.fechanac.substring(0,10),"YYYY-MM-DD").$d)}),F(s),L(s.trabaja)):ve.a.error("An error ocurred"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u&&G()})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"mgeCard",children:Object(x.jsxs)("div",{className:"grid",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"My Account"})}),Object(x.jsx)("div",{className:"col-8",style:{textAlign:"right"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",disabled:h||C,onClick:function(){window.history.go(-1)},children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",loading:C,disabled:h||C,onClick:function(){s.submit()},children:"Save"})]})})]})})})}),h?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):k&&Object(x.jsx)(m.a,{justify:"center",style:{paddingTop:"20px"},children:Object(x.jsx)(O.a,{xs:24,sm:24,md:22,lg:20,xl:18,xxl:16,children:Object(x.jsx)(xe.a,{form:s,layout:"vertical",initialValues:k,onFinish:H,disabled:C,children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"file",label:"Upload your profile picture",children:Object(x.jsxs)(m.a,{gutter:[0,10],children:[Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:D?Object(x.jsx)(Je.a,{src:D,width:128,height:128}):k.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(k.imagen.split("/")[k.imagen.split("/").length-1]),width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ke.a,Object(d.a)(Object(d.a)({multiple:!1},z),{},{children:Object(x.jsx)(ue.a,{type:"primary",icon:Object(x.jsx)(Ze.a,{}),disabled:Y.length>0,children:"Select Photo"})}))})]})})}),Object(x.jsx)(O.a,{xs:24,sm:16,md:16,lg:16,xl:16,xxl:16,children:Object(x.jsxs)(m.a,{gutter:[15,0],children:[Object(x.jsxs)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:[Object(x.jsx)(xe.a.Item,{name:"usuId",label:"ID",rules:[{required:!0,message:"Complete ID"}],style:{display:"none"},children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",rules:[{required:!0,message:"Complete first Name"}],children:Object(x.jsx)(pe.a,{})})]}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",rules:[{required:!0,message:"Complete last Name"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexo","catId"],label:"Sex",rules:[{required:!0,message:"Select sex"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().generos,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date of birth",rules:[{required:!0,message:"Select date of birth"}],children:Object(x.jsx)(Xe.a,{style:{width:"100%"},disabledDate:y})})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"ID Number"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"This is the unique identification number issued by the country of residence."}),placement:"right",children:Object(x.jsx)(et.a,{})})]}),rules:[{required:!0,message:"Complete ID Number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:["pais","catId"],label:"Country",rules:[{required:!0,message:"Select country"}],children:Object(x.jsx)(Ve.a,{name:"paisId",children:T().paises.map((function(e){return t=e,Object(x.jsx)(Gt,{value:t.catId,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catNombre}),"\xa0",t.catNombre]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"ciudad",label:"City",rules:[{required:!0,message:"Complete city"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:["countryCode","catValor"],label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Country Code"}),rules:[{required:!0,message:"Select country code"}],children:Object(x.jsx)(Ve.a,{name:"codigotel",children:T().paises.map((function(e){return t=e,Object(x.jsx)(Gt,{value:t.catValor,children:Object(x.jsxs)(x.Fragment,{children:["+(",t.catValor,")\xa0",Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catDescripcion})]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Phone Number"}),rules:[{required:!0,message:"Complete phone number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"Are you currently working?"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"Please write the complete name of the institution."}),placement:"right",children:Object(x.jsx)(et.a,{})}),Object(x.jsx)($e.a,{checked:R,onChange:function(e){L(e)}})]}),rules:[{required:R,message:"If yes, please write the complete name of the institution."}],children:Object(x.jsx)(pe.a,{name:"lugartrabajo",disabled:!R})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Complete email"},{type:"email",message:"Email is not valid"}],children:Object(x.jsx)(pe.a,{disabled:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",rules:[{required:!0,message:"Complete additional email"},{type:"email",message:"Additional email is not valid"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,style:{display:"none"},children:Object(x.jsx)(xe.a.Item,{name:["estado","catId"],label:"State",rules:[{required:!0,message:"Select state"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().states,optionFilterProp:"catNombre"})})})]})})})})]})},Kt=function(){var e=C()&&C().usuarioId,t=Object(l.useHistory)();return Object(x.jsx)(Jt,{user:{id:e},navigate:t})},Xt=new Dt,$t=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)(!0),p=Object(i.a)(b,2),h=p[0],g=p[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),I=y[0],w=y[1],T=Object(n.useState)(null),S=Object(i.a)(T,2),N=S[0],P=S[1],k=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!1),w(!0),j([]),a={idUsuario:C().usuarioId},r&&(a=Object(d.a)(Object(d.a)({},a),{},{estado:!r})),t.prev=5,t.next=8,Xt.getByTraining({navigate:e,trainer:a});case 8:n=t.sent,(c=n.data)?(P(null),j(c.listObject)):P("An error ocurred"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),s=t.t0.response,P(409===s.status?s.data[0].messageText:"An error ocurred");case 17:return t.prev=17,w(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){h&&k()})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"mgeCard",style:{paddingTop:"15px",paddingBottom:"15px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"Trainings"})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,style:{textAlign:"right"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",loading:I,disabled:I,style:{width:"120px"},onClick:function(){k()},children:"Refresh"}),Object(x.jsx)(ue.a,{type:"primary",disabled:I,style:{width:"120px"},onClick:function(){e.push("/trainingnew")},children:"New Training"})]})})]})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"end",paddingTop:"10px",paddingBottom:"10px"},children:Object(x.jsx)(Ae.a,{checked:r,onChange:function(e){return c(e.target.checked)},children:"Inactive only"})})}),I?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):N?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(je.a,{title:N})}):Object(x.jsx)(m.a,{gutter:[25,25],justify:"start",children:u&&u.map((function(t){return function(t){var a=t.entId,n=t.entNombre,r=t.entFechaIni,c=t.entFechaFin,s=t.entModalidad,i=t.numPostulantes,l=t.entEstado,o=t.cursoList,d="ACTIVE"===l.catValor?"#54873C":"INACTIVE"===l.catValor?"red":"#636466";return Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:8,xxl:6,children:Object(x.jsxs)(St.a,{hoverable:!0,children:[Object(x.jsxs)(m.a,{style:{lineHeight:"1.8em"},children:[Object(x.jsx)(O.a,{span:16,children:Object(x.jsx)(f.a.Title,{level:5,children:Object(x.jsx)("span",{className:"mge-darkGreen",style:{fontWeight:"bold"},children:n})})}),Object(x.jsx)(O.a,{span:8,style:{textAlign:"right"},children:Object(x.jsx)(Lt.a,{color:d,text:l.catNombre})}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(f.a.Text,{children:s.catNombre})}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsxs)(f.a.Text,{strong:!0,children:[r.substring(0,10).split("-").reverse().join("/")," - ",c.substring(0,10).split("-").reverse().join("/")]})}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsxs)(f.a.Text,{type:"secondary",children:[o.length," courses"]}),Object(x.jsxs)(f.a.Text,{type:"secondary",children:[i," applicants"]})]})})]}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:"\xa0"})}),Object(x.jsxs)(m.a,{gutter:[20],children:[Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(ue.a,{type:"default",block:!0,onClick:function(){e.push("/training/".concat(a))},style:{borderColor:"#70B450",borderWidth:"2px",color:"#70B450",height:"40px"},children:te(Y)})}),Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(ue.a,{type:"default",block:!0,onClick:function(){e.push("/trainingedit/".concat(a))},style:{borderColor:"#70B450",borderWidth:"2px",color:"#70B450",height:"40px"},children:te(M)})})]})]})},a)}(t)}))})]})},Qt=a(311),Zt=a(55),ea={headers:{"Accept-Language":k()}},ta=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.postulant;return Se(t).put("".concat(Ne,"/PostulantServiceRest/insertPostulant"),a)},this.sendEmail=function(e){var t=e.navigate,a=e.postulant;return Se(t).patch("".concat(Ne,"/PostulantServiceRest/sendEmailRegistry"),a)},this.getByTraining=function(e){var t=e.navigate,a=e.training;return Se(t).post("".concat(Ne,"/PostulantServiceRest/getPostulantByTraining"),a)},this.del=function(e){var t=e.navigate,a=e.postulant;return Se(t).post("".concat(Ne,"/PostulantServiceRest/deletePostulant"),a)},this.getTraining=function(e){var t=e.navigate,a=e.postulant;return Se(t).post("".concat(Ne,"/PostulantServiceRest/getTrainingByPostulant"),a)},this.validate=function(e){var t=e.postulant;return Ce.a.create(ea).post("".concat(Ne,"/PostulantServiceRest/validatePostulant"),t)}})),aa=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.countryTraining;return Se(t).put("".concat(Ne,"/CountryTrainingServiceRest/insertCountryTraining"),a)},this.getByTraining=function(e){var t=e.navigate,a=e.countryTraining;return Se(t).post("".concat(Ne,"/CountryTrainingServiceRest/getCountryTrainingByTraining"),a)},this.del=function(e){var t=e.navigate,a=e.countryTraining;return Se(t).post("".concat(Ne,"/CountryTrainingServiceRest/deleteCountryTraining"),a)}})),na=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.course;return Se(t).put("".concat(Ne,"/CourseServiceRest/insertCourse"),a)},this.getByTraining=function(e){var t=e.navigate,a=e.training;return Se(t).post("".concat(Ne,"/CourseServiceRest/getCoursesByTraining"),a)},this.del=function(e){var t=e.navigate,a=e.course;return Se(t).post("".concat(Ne,"/CourseServiceRest/deleteCourse"),a)}})),ra={entCultura:k()},ca=Ve.a.Option,sa=new Dt,ia=new ta,la=new aa,oa=new na,da=function(){var e=Object(l.useHistory)(),t=xe.a.useForm(),a=Object(i.a)(t,1)[0],r=Object(n.useState)(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],u=Object(n.useState)([]),j=Object(i.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),g=f[0],v=f[1],y=Object(n.useState)([]),I=Object(i.a)(y,2),w=I[0],S=I[1],N=Object(n.useState)({type:"warning",message:null}),P=Object(i.a)(N,2),k=P[0],F=P[1],E=Object(n.useState)(0),_=Object(i.a)(E,2),R=_[0],L=_[1],A=Object(n.useState)(null),V=Object(i.a)(A,2),D=V[0],U=V[1],B=Object(n.useState)(null),q=Object(i.a)(B,2),Y=q[0],M=q[1],z=function(e){var t=b.filter((function(t){return t!==e}));F({type:"success",message:"Email ".concat(e," successfully removed.")}),setTimeout((function(){return F({type:"warning",message:null})}),5e3),p(t)},W=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={idRegion:a.idRegion,entCultura:a.entCultura,idModalidad:a.idModalidad,entFechaIni:a.entFechaIni,entFechaFin:a.entFechaFin,idEstado:T().trainingStatus.filter((function(e){return"DRAFT"===e.catValor}))[0].catId,idUsuario:C().usuarioId},o(!0),t.prev=2,t.next=5,sa.put({navigate:e,training:n});case 5:r=t.sent,(c=r.data)?(s=[],g.length>0&&g.forEach((function(t){s.push(la.put({navigate:e,countryTraining:{idPais:t.value,idEntrenamiento:c.listObject[0].entId}}))})),w.length>0&&w.forEach((function(t){s.push(oa.put({navigate:e,course:{idEntrenamiento:c.listObject[0].entId,idNombreCurso:t.catId}}))})),b.length>0&&b.forEach((function(t){s.push(ia.put({navigate:e,postulant:{idEntrenamiento:c.listObject[0].entId,posEmail:t,idInvitadoPor:C().usuarioId}}))})),s.length>0?Promise.all(s).then((function(t){ve.a.success("Training ".concat(c.listObject[0].entNombre," succesfully created")),e.push("/trainingedit/".concat(c.listObject[0].entId))})).catch((function(e){var t=e.response,a=409===t.status?t.data[0].messageText:t.data;ve.a.error("It was not possible to add the applicant: ".concat(a))})):(ve.a.success("Training ".concat(c.listObject[0].entNombre," succesfully created")),e.push("/trainingedit/".concat(c.listObject[0].entId)))):ve.a.error("An error occurred."),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),i=t.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred.");case 14:return t.prev=14,o(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(xe.a,{layout:"vertical",initialValues:ra,onFinish:W,disabled:s,children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"mgeCard",children:Object(x.jsxs)("div",{className:"grid",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){e.push("/training")}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"New Training"})]})}),Object(x.jsx)("div",{className:"col-8",style:{textAlign:"right"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",htmlType:"submit",loading:s,disabled:s,children:"Save Draft"}),Object(x.jsx)(ue.a,{type:"primary",loading:s,disabled:!0,onClick:function(){ve.a.success("Training published")},children:"Publish"})]})})]})})})}),Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsxs)(O.a,{xs:22,sm:22,md:20,lg:18,xl:18,xxl:16,children:[Object(x.jsxs)(m.a,{gutter:[25,25],children:[Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:"idRegion",label:"Region",rules:[{required:!0,message:"Select region"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},options:T().regions,showSearch:!0,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:"entCultura",label:"Language",rules:[{required:!0,message:"Select language"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"value",value:"id"},options:[{id:"es_EC",value:"Espa\xf1ol"},{id:"en_US",value:"English"}],showSearch:!0,optionFilterProp:"value"})})})]}),Object(x.jsx)(m.a,{gutter:[25,25],children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:"idPais",label:"Country",rules:[{required:!0,message:"Select country"}],children:Object(x.jsx)(Ve.a,{name:"idPais",mode:"multiple",onChange:function(e,t){v(t)},children:T().paises.map((function(e){return t=e,Object(x.jsx)(ca,{value:t.catId,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catNombre}),"\xa0",t.catNombre]})},t.catValor);var t}))})})})}),Object(x.jsx)(m.a,{gutter:[25,25],children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:"idModalidad",label:"Modality",rules:[{required:!0,message:"Select modality"}],style:{width:"100%",textAlign:"center"},children:Object(x.jsx)(he.a.Group,{buttonStyle:"solid",children:T().modalidades.map((function(e){return function(e){var t=e.catId,a=e.catNombre,n=e.catValor;return Object(x.jsx)(he.a.Button,{value:t,onChange:function(e){return L(t)},style:{height:"100%",margin:"0 20px 20px 0"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{style:{padding:"20px 10px"},children:Object(x.jsx)(Je.a,{preview:!1,src:"./../../assets/".concat(n).concat(t===R?"_W":"",".png"),width:55,height:50})}),Object(x.jsx)(O.a,{style:{padding:"30px 10px",width:"100px"},children:a})]})},t)}(e)}))})})})}),Object(x.jsxs)(m.a,{gutter:[25,25],children:[Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:"entFechaIni",label:"Start Date",rules:[{required:!0,message:"Select start date"}],children:Object(x.jsx)(Xe.a,{format:"YYYY-MM-DD",style:{width:"100%"},onChange:U,disabledDate:function(e){if(null!==Y)return e&&e>=Y.startOf("day")}})})}),Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:"entFechaFin",label:"End Date",rules:[{required:!0,message:"Select end date"}],children:Object(x.jsx)(Xe.a,{format:"YYYY-MM-DD",style:{width:"100%"},onChange:M,disabledDate:function(e){if(null!==D)return e&&e<=D.endOf("day")}})})})]}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:["courses"],label:"Courses",rules:[{required:!0,message:"Select courses"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},mode:"multiple",fieldNames:{label:"catNombre",value:"catId"},options:T().cursos,showSearch:!0,optionFilterProp:"catNombre",onChange:function(e,t){S(t)}})})})})]})})]}),Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsx)(O.a,{xs:22,sm:22,md:20,lg:18,xl:18,xxl:16,children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(xe.a,{form:a,layout:"vertical",style:{width:"100%"},initialValues:{postulant:""},onFinish:function(e){var t=e.postulant;if(a.resetFields(),b.filter((function(e){return e===t})).length>0)return F({type:"warning",message:"Then email ".concat(t," already exists.")}),void setTimeout((function(){return F({type:"warning",message:null})}),5e3);var n=[].concat(Object(He.a)(b.filter((function(e){return e!==t}))),[t]);p(n),F({type:"success",message:"Email ".concat(t," successfully added.")}),setTimeout((function(){return F({type:"warning",message:null})}),5e3)},children:Object(x.jsxs)(O.a,{span:24,children:[Object(x.jsx)(xe.a.Item,{name:"postulant",label:"Applicants emails",extra:"Press enter to add email",rules:[{required:!0,message:"Complete applicants"},{type:"email",message:"Email is not valid"}],children:Object(x.jsx)(pe.a,{style:{width:"100%"}})}),k.message&&Object(x.jsx)(Vt.a,Object(d.a)(Object(d.a)({},k),{},{showIcon:!0,closable:!0}))]})}),Object(x.jsx)(O.a,{span:24,style:{paddingTop:"10px"},children:Object(x.jsx)(m.a,{gutter:[15,15],children:b&&b.map((function(e){return t=e,Object(x.jsx)(O.a,{children:Object(x.jsx)(Qt.a,{closeIcon:Object(x.jsx)(Zt.a,{}),onClose:function(e){z(t)},closable:!0,style:{padding:"5px 15px",borderRadius:"15px",fontSize:"1em"},children:t},t)},t);var t}))})})]})})})]})},ua=new Dt,ja={bordered:!1,loading:!1,title:"",showHeader:!0,size:"medium",pagination:{position:["none","bottomRight"]}},ba=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().id,a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!0),h=Object(i.a)(p,2),g=h[0],v=h[1],y=Object(n.useState)(!1),I=Object(i.a)(y,2),w=I[0],C=I[1],T=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return v(!1),C(!0),n={entId:t},a.prev=3,a.next=6,ua.getById({navigate:e,training:n});case 6:r=a.sent,(c=r.data)?(s(c.listObject[0]),b(c.listObject[0].postulanteList.filter((function(e){return"EST_ENR"===e.posEstado.catValor})))):ve.a.error("An error ocurred"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),i=a.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 15:return a.prev=15,C(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,11,15,18]])})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){g&&T()})),Object(x.jsx)(x.Fragment,{children:w?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsxs)(St.a,{bordered:!1,children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){e.push("/training")}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:c.entNombre})]})})}),Object(x.jsxs)(m.a,{gutter:[15,0],justify:"space-around",children:[Object(x.jsxs)(O.a,{style:{padding:"10px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-laptop"}),"\xa0",c.entModalidad.catNombre]}),Object(x.jsxs)(O.a,{style:{padding:"10px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-calendar-days"}),"\xa0",c.entFechaIni.substring(0,10),"-",c.entFechaFin.substring(0,10)]}),Object(x.jsxs)(O.a,{style:{padding:"10px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-graduation-cap"}),"\xa0",c.numPostulantes,"\xa0Applicants"]}),Object(x.jsxs)(O.a,{style:{padding:"5px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-earth-americas"})," ".concat(c.entRegion.catDescripcion)]})]})]})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{style:{padding:"15px 0"},children:Object(x.jsxs)(xe.a,{initialValues:{criteria:""},onFinish:function(e){var t=e.criteria,a=t.toUpperCase(),n=t?j.filter((function(e){return e.posEmail.toUpperCase().indexOf(a)>=0||e.usuId.documento.toUpperCase().indexOf(a)>=0||e.usuId.nombres.toUpperCase().indexOf(a)>=0||e.usuId.apellidos.toUpperCase().indexOf(a)>=0||e.usuId.pais.catNombre.toUpperCase().indexOf(a)>=0||e.usuId.ciudad.toUpperCase().indexOf(a)>=0||e.usuId.sexo.catNombre.toUpperCase().indexOf(a)>=0})):j,r=Object(d.a)(Object(d.a)({},c),{},{postulanteList:n});s(r)},layout:"inline",children:[Object(x.jsx)(xe.a.Item,{name:["criteria"],label:"Search expression",children:Object(x.jsx)(pe.a,{style:{width:"100%"}})}),Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{type:"default",htmlType:"submit",children:"Search"})})]})})}),c.postulanteList&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,Object(d.a)(Object(d.a)({},ja),{},{rowKey:"posId",columns:[{title:"",dataIndex:"posId",render:function(e,t){var a=t.usuId;return a&&a.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(a.imagen.split("/")[a.imagen.split("/").length-1]),width:32,height:32}):Object(x.jsx)("img",{alt:"",src:"./assets/user.png",width:32,height:32})}},{title:"Name",dataIndex:"usuId",render:function(e,t){var a=t.posEmail,n=t.usuId;return n?"".concat(n.nombres," ").concat(n.apellidos):a}},{title:"Country",dataIndex:"country",render:function(e,t){var a=t.usuId;return a?Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("img",{src:"https://flagcdn.com/32x24/".concat(a.pais.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/32x24/".concat(a.pais.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/96x72/").concat(a.pais.catDescripcion.toLowerCase(),".png 3x"),width:"32",height:"24",alt:a.pais.catNombre})}):Object(x.jsx)(x.Fragment,{})},responsive:["md","lg","xl","xxl"]},{title:"Attendance",dataIndex:"attendance",render:function(e,t){var a=t.asistenciaList;return a&&a.length>0?Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("img",{alt:"",src:"./../../assets/".concat((a[a.length-1].asiValor||0)>=80?"accept.png":"cancel.png"),height:24,width:24})}):Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})})},responsive:["xl","xxl"]},{title:"Work Plan",dataIndex:"workPlan",render:function(e,t){var a=t.informeList;return Object(x.jsx)(m.a,{style:{textAlign:"center"},gutter:[0,5],children:c&&c.cursoList.map((function(e){return Object(x.jsxs)(O.a,{span:24,children:["".concat(e.curNombre.catValor.substr(0,1)).concat(e.curNombre.catValor.substr(e.curNombre.catValor.length-1,1)," "),a&&a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})]},e.curId)}))})},responsive:["xl","xxl"]},{title:"Final Report",dataIndex:"finalReport",render:function(e,t){var a=t.informeList;return Object(x.jsx)(m.a,{style:{textAlign:"center"},gutter:[0,5],children:c&&c.cursoList.map((function(e){return Object(x.jsxs)(O.a,{span:24,children:["".concat(e.curNombre.catValor.substr(0,1)).concat(e.curNombre.catValor.substr(e.curNombre.catValor.length-1,1)," "),a&&a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})]},e.curId)}))})},responsive:["lg","xl","xxl"]},{title:"Certificate",dataIndex:"certificate",render:function(e,t){var a=t.certificadoList;return Object(x.jsx)(m.a,{style:{textAlign:"center"},gutter:[0,5],children:c&&c.cursoList.map((function(e){return Object(x.jsxs)(O.a,{span:24,children:["".concat(e.curNombre.catValor.substr(0,1)).concat(e.curNombre.catValor.substr(e.curNombre.catValor.length-1,1)," "),a&&a.filter((function(t){return t.idCurso===e.curId&&"EST_CER_ACT"===t.cerEstado.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_CER_ACT"===a.filter((function(t){return t.idCurso===e.curId&&"EST_CER_ACT"===t.cerEstado.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"EST_CER_ACT"===t.cerEstado.catValor})).length-1].cerEstado.catValor?"accept.png":"cancel.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})]},e.curId)}))})},responsive:["lg","xl","xxl"]},{title:"Actions",dataIndex:"",render:function(e,a){return Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)(ue.a,{type:"primary",href:"/#/applicants/".concat(a.posId,"/").concat(t),children:"View"})})}}],dataSource:c.postulanteList.filter((function(e){return"EST_ENR"===e.posEstado.catValor}))}))})]})})},xa=a(533),pa=a(525),ha=a(73),ma=a.n(ha),Oa=a(74),fa=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.attendance;return Se(t).put("".concat(Ne,"/AssistanceServiceRest/insertAssistance"),a)},this.get=function(e){var t=e.navigate,a=e.attendance;return Se(t).post("".concat(Ne,"/AssistanceServiceRest/getAssistanceById"),a)},this.set=function(e){var t=e.navigate,a=e.attendance;return Se(t).patch("".concat(Ne,"/AssistanceServiceRest/updateAssistance"),a)}})),ga=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.inform;return Se(t).put("".concat(Ne,"/ReportServiceRest/insertReport"),a,{headers:{"Content-Type":"multipart/form-data"}})},this.set=function(e){var t=e.navigate,a=e.inform;return Se(t).patch("".concat(Ne,"/ReportServiceRest/updateReport"),a)},this.get=function(e){var t=e.navigate,a=e.inform;return Se(t).patch("".concat(Ne,"/ReportServiceRest/getReportById"),a)},this.downloadByName=function(e){var t=e.navigate,a=e.inform;return Se(t).post(Fe(),a)},this.sendEmailLoad=function(e){var t=e.navigate,a=e.inform;return Se(t).patch("".concat(Ne,"/ReportServiceRest/sendEmailLoadReport"),a)},this.sendEmailRate=function(e){var t=e.navigate,a=e.inform;return Se(t).patch("".concat(Ne,"/ReportServiceRest/sendEmailRateReport"),a)}})),va=new ta,ya=new fa,Ia=new ga,wa={marginBottom:20,backgroundColor:"#fafafa",border:"none",borderRadius:"15px"},Ca=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)(),a=t.id,r=t.idTraining,c=Object(n.useState)(!0),s=Object(i.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],g=Object(n.useState)(null),v=Object(i.a)(g,2),y=v[0],I=v[1],C=Object(n.useState)(null),S=Object(i.a)(C,2),N=S[0],F=S[1],E=Object(n.useState)(0),_=Object(i.a)(E,2),R=_[0],L=_[1],A=Object(n.useState)(""),V=Object(i.a)(A,2),D=V[0],U=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),Y=q[0],M=q[1],z=Object(n.useState)(!1),W=Object(i.a)(z,2),H=W[0],G=W[1],J=Object(n.useState)(!1),K=Object(i.a)(J,2),X=K[0],$=K[1],Q=Object(n.useState)(!1),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!1),ne=Object(i.a)(ae,2),re=ne[0],ce=ne[1],ie=function(e){var t=e.curId,a=e.curNombre,n=e.infTipo;return Object(x.jsx)(pa.a.Panel,{header:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:y.informeList&&y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t}))[y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t}))[y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t}))[y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["TYP_INF_WPL"===n.catValor?"Workplan - ":"TYP_INF_FIR"===n.catValor?"Final Report - ":"",a.catNombre]})})]}),style:wa,children:y.informeList&&y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).map((function(e){return function(e){var t=e.infId,a=e.infFechaReg,n=e.infFechaSAprRec,r=e.infNombre,c=e.infEstado,s=e.infObservacion,i=e.infRutaPlan,l=e.evidenciaList,o=e.infTipo;return Object(x.jsxs)(m.a,{className:"mgeCard",style:{backgroundColor:"#f0f0f0",padding:"10px 20px",marginBottom:"10px"},children:[Object(x.jsxs)(xa.b,{title:Object(x.jsxs)(m.a,{gutter:10,style:{paddingBottom:"10px"},children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===c.catValor?"send.png":"EST_INF_APR"===c.catValor?"accept.png":"EST_INF_REC"===c.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Text,{strong:!0,style:{fontWeight:"normal"},children:r})})]}),size:"small",layout:"vertical",extra:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ue.a,{type:"default",onClick:function(){return be({infNombre:r,infRutaPlan:i})},loading:re,disabled:re,children:"Download"})}),column:{xs:1,sm:2,md:4,lg:4,xl:6,xxl:6},children:[Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Registration date"}),children:a.substring(0,10)}),l&&l.length>0?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Evidences"}),children:Object(x.jsx)("a",{rel:"noreferred noreferrer",target:"_blank",href:"".concat(l[0].eviUrl),children:l[0].eviUrl.length>15?"".concat(l[0].eviUrl.substring(0,15),"..."):l[0].eviUrl})})}):Object(x.jsx)(x.Fragment,{}),n&&Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Review date"}),children:n.substring(0,10)}),s&&Object(x.jsx)(xa.b.Item,{style:{whiteSpace:"pre-wrap"},label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Observation"}),children:s})]}),"EST_INF_ENV"===c.catValor&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(O.a,{span:24,style:{padding:"10px 0"},children:[Object(x.jsx)(f.a.Text,{children:"Comments:"}),"TYP_INF_WPL"===o.catValor?Object(x.jsx)(pe.a.TextArea,{disabled:X,value:D,onChange:function(e){return U(e.target.value)},showCount:!0,maxLength:1e3}):Object(x.jsx)(pe.a.TextArea,{disabled:X,value:Y,onChange:function(e){return M(e.target.value)},showCount:!0,maxLength:1e3})]}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsxs)(m.a,{justify:"end",style:{padding:"10px 0 0 0"},gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(lt.a,{title:"Are you sure to approve the ".concat("TYP_INF_WPL"===o.catValor?"workplan":"TYP_INF_FIR"===o.catValor?"final report":""),okText:"Yes, approve",cancelText:"No",onConfirm:function(){return me(y.informeList.filter((function(e){return e.infTipo.catValor===o.catValor&&"EST_INF_ENV"===e.infEstado.catValor}))[0],T().reportStatus.filter((function(e){return"EST_INF_APR"===e.catValor}))[0])},okButtonProps:{loading:X||ee},disabled:X||ee,children:Object(x.jsx)(ue.a,{type:"primary",loading:X||ee,disabled:X||ee,children:"Approve"})})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(lt.a,{title:"Are you sure to reject the ".concat("TYP_INF_WPL"===o.catValor?"workplan":"TYP_INF_FIR"===o.catValor?"final report":""),okText:"Yes, reject",cancelText:"No",onConfirm:function(){return me(y.informeList.filter((function(e){return e.infTipo.catValor===o.catValor&&"EST_INF_ENV"===e.infEstado.catValor}))[0],T().reportStatus.filter((function(e){return"EST_INF_REC"===e.catValor}))[0])},okButtonProps:{loading:X||ee},disabled:X||ee,children:Object(x.jsx)(ue.a,{danger:!0,type:"primary",loading:X||ee,disabled:X||ee,children:"Reject"})})})]})})]})]},t)}(e)}))},t)},de=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.cerUuid,n=t.cerNombre,r=P(n),(c=new XMLHttpRequest).responseType="arraybuffer",ce(!0),ma.a.ajax({async:!0,crossDomain:!0,url:_e(),method:"POST",headers:{Accept:"*/*","Accept-Language":k(),Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({cerUuid:a}),xhr:function(){return c}}).then((function(e){ce(!1);var t=new Blob([e],{type:r});Object(Oa.saveAs)(t,n)})).catch((function(){return ce(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var t=Object(se.a)(le.a.mark((function t(){var n,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={idEntrenamiento:r,idPostulante:a,asiAprobado:parseInt(R)>=80,asiValor:R},G(!0),t.prev=2,t.next=5,ya.put({navigate:e,attendance:n});case 5:c=t.sent,c.data&&ve.a.success("Attendance successfully saved"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),s=t.t0.response,ve.a.error(409===s.status?s.data[0].messageText:"An error occurred");case 14:return t.prev=14,G(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})));return function(){return t.apply(this,arguments)}}(),be=function(e){var t=e.infNombre,a=e.infRutaPlan,n=P(t),r=new XMLHttpRequest;r.responseType="arraybuffer",ce(!0),ma.a.ajax({async:!0,crossDomain:!0,url:Fe(),method:"POST",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({infNombre:t,infRutaPlan:a}),xhr:function(){return r}}).then((function(e){ce(!1);var a=new Blob([e],{type:n});Object(Oa.saveAs)(a,t)})).catch((function(){return ce(!1)}))},he=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.infId,te(!0),t.prev=2,r={infId:n},t.next=6,Ia.sendEmailRate({navigate:e,inform:r});case 6:c=t.sent,c.data&&ve.a.success("Email sent successfully"),u(!0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),ve.a.error("Email send failed");case 15:return t.prev=15,te(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),me=function(){var t=Object(se.a)(le.a.mark((function t(a,n){var r,c,s,i,l,o,u,j,b,x;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.infId,c=a.infTipo,s=a.idCurso,i=n.catId,l=c.catValor,o={infId:r,idEstado:i,infObservacion:"TYP_INF_WPL"===l?D:"TYP_INF_FIR"===l?Y:""},$(!0),t.prev=5,t.next=8,Ia.set({navigate:e,inform:o});case 8:u=t.sent,j=u.data,b=j.listObject[0],he(Object(d.a)(Object(d.a)({},b),{},{idCurso:s})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),x=t.t0.response,ve.a.error(409===x.status?x.data[0].messageText:"An error occurred");case 18:return t.prev=18,$(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[5,14,18,21]])})));return function(e,a){return t.apply(this,arguments)}}(),Oe=function(){var t=Object(se.a)(le.a.mark((function t(){var n,c,s,i,l,o,d;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!1),h(!0),n={idEntrenamiento:r,posId:a},t.prev=3,t.next=6,va.getByTraining({navigate:e,training:n});case 6:c=t.sent,(s=c.data)?(i=s.listObject[0].entId.cursoList,(l=s.listObject[0]).asistenciaList.length>0&&(o=l.asistenciaList[l.asistenciaList.length-1].asiValor||0,L(o)),I(l),F(i)):ve.a.error("An error occurred"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),d=t.t0.response,ve.a.error(409===d.status?d.data[0].messageText:"An error occurred");case 15:return t.prev=15,h(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,11,15,18]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){o&&Oe()})),Object(x.jsx)(x.Fragment,{children:p?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):y&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"mgeCard",children:Object(x.jsxs)("div",{className:"grid",children:[Object(x.jsx)("div",{className:"col-8",children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){e.push("/training/".concat(r))}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"".concat(y.usuId.nombres||"Postulante"," ").concat(y.usuId.apellidos||"")})]})}),Object(x.jsx)("div",{className:"col-4",style:{textAlign:"right"}})]})})})}),Object(x.jsx)(At.a,{centered:!0,items:[{key:1,label:Object(x.jsx)(f.a.Text,{style:{fontSize:"1.1em",letterSpacing:"1px"},children:"Information"}),children:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(m.a,{gutter:[25,25],justify:"center",children:[Object(x.jsx)(O.a,{xs:22,sm:20,md:6,lg:6,xl:6,xxl:4,children:Object(x.jsxs)(m.a,{gutter:[15,15],style:{textAlign:"center"},children:[Object(x.jsx)(O.a,{span:24,children:y.usuId.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(y.usuId.imagen.split("/")[y.usuId.imagen.split("/").length-1]),width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:24,lg:24,xl:24,xxl:24,style:{textAlign:"left"},children:Object(x.jsxs)(f.a.Paragraph,{children:[Object(x.jsx)(f.a.Text,{strong:!0,children:"Role:"}),Object(x.jsx)("br",{}),"Applicant"]})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:24,lg:24,xl:24,xxl:24,style:{textAlign:"left"},children:Object(x.jsxs)(f.a.Paragraph,{children:[Object(x.jsx)(f.a.Text,{strong:!0,children:"Invited by:"}),Object(x.jsx)("br",{}),y.posInvitadoPor?"".concat(y.posInvitadoPor.nombres||""," ").concat(y.posInvitadoPor.apellidos||""):Object(x.jsx)(x.Fragment,{})]})})]})}),Object(x.jsx)(O.a,{xs:22,sm:20,md:14,lg:14,xl:14,xxl:10,children:Object(x.jsx)(xe.a,{initialValues:Object(d.a)(Object(d.a)({},y.usuId),{},{fechanac:y.usuId.fechanac.substring(0,10)}),layout:"vertical",children:Object(x.jsxs)(m.a,{gutter:[25,5],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexo","catNombre"],label:"Sex",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date Birth",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["pais","catNombre"],label:"Country",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["ciudad"],label:"City",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"codigotel",label:"Country Code",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:"Phone number",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:"ID Number",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:"Currenty Working",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",children:Object(x.jsx)(pe.a,{readOnly:!0})})})]})})})]})})},{key:2,label:Object(x.jsx)(f.a.Text,{style:{fontSize:"1.1em",letterSpacing:"1px"},children:"Progress"}),children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)("img",{alt:"",src:"./../../assets/".concat(R>=80?"accept.png":"cancel.png"),height:24,width:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:5,children:"Attendance"})})]})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{style:{textAlign:"end"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(Ot.a,{defaultValue:0,value:R,min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},onChange:function(e){return L(e)}}),Object(x.jsx)(ue.a,{type:"primary",onClick:function(){je()},loading:H,disabled:H,children:"Save"})]})})})})]})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(pa.a,{accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:N&&N.map((function(e){return ie(Object(d.a)(Object(d.a)({},e),{},{infTipo:{catValor:"TYP_INF_WPL"}}))}))})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(pa.a,{accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:N&&N.map((function(e){return ie(Object(d.a)(Object(d.a)({},e),{},{infTipo:{catValor:"TYP_INF_FIR"}}))}))})})}),y&&y.informeList&&y.certificadoList&&Object(x.jsx)(x.Fragment,{children:y.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&Object(x.jsx)(x.Fragment,{children:y.certificadoList&&y.certificadoList.map((function(e){return function(e){var t=e.cerEstado,a=e.cerFechaCad,n=(e.cerFechaReg,e.cerId),r=e.cerNombre,c=(e.cerRuta,e.idCurso),s=e.cerUuid;return Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:24,md:16,lg:16,xl:16,xxl:12,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_CER_ACT"===t.catValor?"accept.png":"cancel.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["Certificate\xa0-\xa0",N&&N.filter((function(e){return e.curId===c}))[0].curNombre.catNombre]})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:4,lg:4,xl:4,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,children:Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["Expires: ",a.substring(0,10)]})})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:4,lg:4,xl:4,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(ue.a,{type:"primary",loading:re,disabled:re,onClick:function(){return de({cerUuid:s,cerNombre:r})},children:"Download"})})})})]})},n)}(e)}))})})]})}]})]})})},Ta=a(543),Sa=a(544),Na=new ta,Pa=new ga,ka={marginBottom:20,backgroundColor:"#fafafa",border:"none",borderRadius:"15px"},Fa=function(){var e=Object(l.useHistory)(),t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)(!1),p=Object(i.a)(b,2),h=p[0],g=p[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),I=y[0],S=y[1],N=Object(n.useState)([]),k=Object(i.a)(N,2),F=k[0],E=k[1],_=Object(n.useState)(!1),R=Object(i.a)(_,2),L=R[0],A=R[1],V=Object(n.useState)(!1),D=Object(i.a)(V,2),U=D[0],B=D[1],q=Object(n.useState)([]),Y=Object(i.a)(q,2),M=Y[0],z=Y[1],W={onRemove:function(e){var t=F.indexOf(e),a=F.slice();a.splice(t,1),E(a)},beforeUpload:function(e){return E([].concat(Object(He.a)(F),[e])),!1},fileList:F},H=function(e){var t=e.infId,a=e.infFechaReg,n=e.infFechaSAprRec,r=e.infNombre,c=e.infEstado,s=e.infObservacion,i=e.infRutaPlan,l=e.evidenciaList;e.idCurso;return Object(x.jsxs)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:[Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:14,sm:18,md:18,lg:18,xl:18,xxl:18,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===c.catValor?"send.png":"EST_INF_APR"===c.catValor?"accept.png":"EST_INF_REC"===c.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:5,children:r})})]})}),Object(x.jsx)(O.a,{xs:10,sm:6,md:6,lg:6,xl:6,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{style:{textAlign:"end"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",onClick:function(){return function(e){var t=e.infNombre,a=e.infRutaPlan,n=P(t),r=new XMLHttpRequest;r.responseType="arraybuffer",S(!0),ma.a.ajax({async:!0,crossDomain:!0,url:Fe(),method:"POST",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({infNombre:t,infRutaPlan:a}),xhr:function(){return r}}).then((function(e){S(!1);var a=new Blob([e],{type:n});Object(Oa.saveAs)(a,t)}))}({infNombre:r,infRutaPlan:i})},loading:I,disabled:I,children:"Download"}),Object(x.jsx)(ue.a,{type:"text",onClick:function(e){return z(M.filter((function(e){return e===t})).length>0?M.filter((function(e){return e!==t})):[].concat(Object(He.a)(M),[t]))},icon:M.filter((function(e){return e===t})).length<1?Object(x.jsx)(Ta.a,{}):Object(x.jsx)(Sa.a,{})})]})})})})]}),M.filter((function(e){return e===t})).length>0&&Object(x.jsxs)(xa.b,{size:"small",layout:"vertical",column:{xs:1,sm:2,md:4,lg:4,xl:6,xxl:6},children:[Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Registration date"}),children:a.substring(0,10)}),l&&l.length>0?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Evidences"}),children:Object(x.jsx)("a",{rel:"noreferred noreferrer",target:"_blank",href:"".concat(l[0].eviUrl),children:l[0].eviUrl})})}):Object(x.jsx)(x.Fragment,{}),n&&Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Review date"}),children:n.substring(0,10)}),s&&Object(x.jsx)(xa.b.Item,{style:{whiteSpace:"pre-wrap"},label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Observation"}),children:s})]})]},t)},G=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.infId,B(!0),t.prev=2,r={infId:n},t.next=6,Pa.sendEmailLoad({navigate:e,inform:r});case 6:c=t.sent,c.data&&ve.a.success("Email sent successfully"),j(!0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),ve.a.error("Email send failed");case 15:return t.prev=15,B(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,c,s,i,l,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.file,c=a.curId,(s=new FormData).append("file",n.file),s.append("idTipo",T().reportType.filter((function(e){return"TYP_INF_WPL"===e.catValor}))[0].catId),s.append("idCurso",c),s.append("idPostulante",r.posId),A(!0),t.prev=7,t.next=10,Pa.put({navigate:e,inform:s});case 10:i=t.sent,l=i.data,o=l.listObject[0],G(o),ve.a.success("Upload successfully"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),ve.a.error("Upload failed");case 20:return t.prev=20,A(!1),E([]),t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[7,17,20,24]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!1),g(!0),t.prev=2,a={idUsuario:C().usuarioId},t.next=6,Na.getTraining({navigate:e,postulant:a});case 6:n=t.sent,r=n.data,s=r.listObject[0],c(s),z(s.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor})).map((function(e){return e.infId}))),localStorage.setItem("mgeInformList",JSON.stringify(s.informeList)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),i=t.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred");case 18:return t.prev=18,g(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,14,18,21]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){u&&K()})),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px 20px 6px 20px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:3,type:"secondary",children:"Workplan template"})})})}),Object(x.jsx)(O.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsx)(oe.b,{direction:"horizontal",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(ue.a,{type:"default",style:{borderColor:"#70B450",borderWidth:"2px",color:"#70B450",height:"35px"},onClick:function(){return function(){var e="WorkplanTemplate.docx",t=P(e),a=new XMLHttpRequest;a.responseType="arraybuffer",S(!0),ma.a.ajax({async:!0,crossDomain:!0,url:"".concat(Ne,"/ReportServiceRest/downloadWorkPlan"),method:"GET",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w())},xhr:function(){return a}}).then((function(a){S(!1);var n=new Blob([a],{type:t});Object(Oa.saveAs)(n,e)}))}()},loading:I,disabled:I,children:"Download"})})})})})]})})}),h?Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})}):Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(pa.a,{accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:r.entId&&r.entId.cursoList&&r.entId.cursoList.map((function(e){return function(e){var t=e.curId,a=e.curNombre;return Object(x.jsxs)(pa.a.Panel,{header:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:r.informeList&&r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:a.catNombre})})]}),style:ka,children:[r.informeList&&r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).map((function(e){return H(e)})),r&&r.informeList&&Object(x.jsx)(x.Fragment,{children:r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).length<1||"EST_INF_REC"===r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?Object(x.jsx)(xe.a,{onFinish:J,initialValues:{curId:t},autoComplete:"off",layout:"vertical",children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(f.a.Title,{level:5,children:"Upload your workplan"})}),Object(x.jsxs)(O.a,{span:24,children:[Object(x.jsx)(xe.a.Item,{style:{display:"none"},name:"curId",children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:"file",label:"File",rules:[{required:!0}],children:Object(x.jsx)(Ke.a,Object(d.a)(Object(d.a)({multiple:!1},W),{},{children:Object(x.jsx)(ue.a,{icon:Object(x.jsx)(Ze.a,{}),disabled:F.length>0,children:"Select File"})}))})]}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:L||U,style:{marginTop:16},children:L?"Uploading":U?"Sending":"Send"})})]})}):Object(x.jsx)(x.Fragment,{})})]},t)}(e)}))})})]})})},Ea=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.evidence;return Se(t).put("".concat(Ne,"/EvidenceServiceRest/insertEvidence"),a)}})),_a=new ta,Ra=new ga,La=new Ea,Aa={marginBottom:20,backgroundColor:"#fafafa",border:"none",borderRadius:"15px"},Va=function(){var e=Object(l.useHistory)(),t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)(!1),p=Object(i.a)(b,2),h=p[0],g=p[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),I=y[0],S=y[1],N=Object(n.useState)([]),k=Object(i.a)(N,2),F=k[0],E=k[1],_=Object(n.useState)(!1),R=Object(i.a)(_,2),L=R[0],A=R[1],V=Object(n.useState)(!1),D=Object(i.a)(V,2),U=D[0],B=D[1],q=Object(n.useState)([]),Y=Object(i.a)(q,2),M=Y[0],z=Y[1],W={onRemove:function(e){var t=F.indexOf(e),a=F.slice();a.splice(t,1),E(a)},beforeUpload:function(e){return E([].concat(Object(He.a)(F),[e])),!1},fileList:F},H=function(e){var t=e.infId,a=e.infFechaReg,n=e.infFechaSAprRec,r=e.infNombre,c=e.infEstado,s=e.infObservacion,i=e.infRutaPlan,l=e.evidenciaList;return Object(x.jsxs)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:[Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===c.catValor?"send.png":"EST_INF_APR"===c.catValor?"accept.png":"EST_INF_REC"===c.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:5,children:r})})]})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{style:{textAlign:"end"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",onClick:function(){return function(e){var t=e.infNombre,a=e.infRutaPlan,n=P(t),r=new XMLHttpRequest;r.responseType="arraybuffer",S(!0),ma.a.ajax({async:!0,crossDomain:!0,url:Fe(),method:"POST",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({infNombre:t,infRutaPlan:a}),xhr:function(){return r}}).then((function(e){S(!1);var a=new Blob([e],{type:n});Object(Oa.saveAs)(a,t)}))}({infNombre:r,infRutaPlan:i})},loading:I,disabled:I,children:"Download"}),Object(x.jsx)(ue.a,{type:"text",onClick:function(e){return z(M.filter((function(e){return e===t})).length>0?M.filter((function(e){return e!==t})):[].concat(Object(He.a)(M),[t]))},icon:M.filter((function(e){return e===t})).length<1?Object(x.jsx)(Ta.a,{}):Object(x.jsx)(Sa.a,{})})]})})})})]}),M.filter((function(e){return e===t})).length>0&&Object(x.jsxs)(xa.b,{size:"small",layout:"vertical",column:{xs:1,sm:2,md:4,lg:4,xl:6,xxl:6},children:[Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Registration date"}),children:a.substring(0,10)}),l&&l.length>0?Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Evidences"}),children:Object(x.jsx)("a",{rel:"noreferred noreferrer",target:"_blank",href:"".concat(l[0].eviUrl),children:l[0].eviUrl.length>15?"".concat(l[0].eviUrl.substring(0,15),"..."):l[0].eviUrl})}):Object(x.jsx)(x.Fragment,{}),n&&Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Review date"}),children:n.substring(0,10)}),s&&Object(x.jsx)(xa.b.Item,{style:{whiteSpace:"pre-wrap"},label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Observation"}),children:s})]})]},t)},G=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.idInforme,B(!0),t.prev=2,r={infId:n},t.next=6,Ra.sendEmailLoad({navigate:e,inform:r});case 6:c=t.sent,c.data&&ve.a.success("Email sent successfully"),j(!0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),ve.a.error("Email send failed");case 15:return t.prev=15,B(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i,l,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.url,r=a.infId,c={idInforme:r,eviUrl:n},g(!0),t.prev=3,t.next=6,La.put({navigate:e,evidence:c});case 6:s=t.sent,i=s.data,l=i.listObject[0],G(l),ve.a.success("Evidence sended successfully"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),o=t.t0.response,ve.a.error(409===o.status?o.data[0].messageText:"An error occurred");case 17:return t.prev=17,g(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[3,13,17,20]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,c,s,i,l,o,u,j;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.file,c=a.curId,(s=new FormData).append("file",n.file),s.append("idTipo",T().reportType.filter((function(e){return"TYP_INF_FIR"===e.catValor}))[0].catId),s.append("idCurso",c),s.append("idPostulante",r.posId),A(!0),t.prev=7,t.next=10,Ra.put({navigate:e,inform:s});case 10:i=t.sent,l=i.data,o=l.listObject[0],u=o.infId,j=Object(d.a)(Object(d.a)({},a),{},{infId:u}),J(j),ve.a.success("Upload successfully"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),ve.a.error("Upload failed");case 22:return t.prev=22,A(!1),E([]),t.finish(22);case 26:case"end":return t.stop()}}),t,null,[[7,19,22,26]])})));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!1),g(!0),t.prev=2,a={idUsuario:C().usuarioId},t.next=6,_a.getTraining({navigate:e,postulant:a});case 6:n=t.sent,r=n.data,s=r.listObject[0],c(s),z(s.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor})).map((function(e){return e.infId}))),localStorage.setItem("mgeInformList",JSON.stringify(s.informeList)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),i=t.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred");case 18:return t.prev=18,g(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,14,18,21]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){u&&X()})),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px 20px 6px 20px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:3,type:"secondary",children:"Final Report template"})})})}),Object(x.jsx)(O.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{justify:"end",children:Object(x.jsx)(oe.b,{direction:"horizontal",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(ue.a,{type:"default",style:{borderColor:"#70B450",borderWidth:"2px",color:"#70B450",height:"35px"},onClick:function(){return function(){var e="FinalReportTemplate.docx",t=P(e),a=new XMLHttpRequest;a.responseType="arraybuffer",S(!0),ma.a.ajax({async:!0,crossDomain:!0,url:"".concat(Ne,"/ReportServiceRest/downloadFinalReport"),method:"GET",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w())},xhr:function(){return a}}).then((function(a){S(!1);var n=new Blob([a],{type:t});Object(Oa.saveAs)(n,e)}))}()},loading:I,disabled:I,children:"Download"})})})})})]})})}),h?Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})}):Object(x.jsx)(O.a,{span:24,children:r&&r.beneficiarioList&&r.beneficiarioList.length>=(r.entId.entLimBen||1)?Object(x.jsx)(pa.a,{accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:r.entId&&r.entId.cursoList&&r.entId.cursoList.map((function(e){return function(e){var t=e.curId,a=e.curNombre;return Object(x.jsxs)(pa.a.Panel,{header:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:r.informeList&&r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:a.catNombre})})]}),style:Aa,children:[r.informeList&&r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).map((function(e){return H(e)})),r&&r.informeList&&Object(x.jsx)(x.Fragment,{children:r.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&e.idCurso===t&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&(r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).length<1||"EST_INF_REC"===r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t}))[r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&e.idCurso===t})).length-1].infEstado.catValor)?Object(x.jsx)(xe.a,{onFinish:K,initialValues:{curId:t},autoComplete:"off",layout:"vertical",children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(f.a.Title,{level:5,children:"Upload your final report"})}),Object(x.jsxs)(O.a,{span:24,children:[Object(x.jsx)(xe.a.Item,{style:{display:"none"},name:"curId",children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:"file",label:"File",rules:[{required:!0}],children:Object(x.jsx)(Ke.a,Object(d.a)(Object(d.a)({multiple:!1},W),{},{children:Object(x.jsx)(ue.a,{icon:Object(x.jsx)(Ze.a,{}),disabled:F.length>0,children:"Select File"})}))})]}),Object(x.jsx)(O.a,{span:24,style:{paddingTop:"10px"},children:Object(x.jsx)(f.a.Title,{level:5,children:"Copy evidence link"})}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:"url",label:"URL",rules:[{required:!0},{type:"url"},{type:"string",min:6}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:L||h||U,children:L?"Uploading":h?"Saving":U?"Sending":"Send"})})]})}):Object(x.jsx)(x.Fragment,{})})]},t)}(e)}))}):Object(x.jsx)(je.a,{title:"There must be at least ".concat(r.entId&&(r.entId.entLimBen||1)," registered beneficiaries to upload your final report."),extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/beneficiaries/registry")},children:"Register Beneficiaries"},"console")})})]})})},Da=new ta,Ua=function(){var e=Object(l.useHistory)(),t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),y=v[0],I=v[1],T=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.cerUuid,n=t.cerNombre,r=P(n),(c=new XMLHttpRequest).responseType="arraybuffer",I(!0),ma.a.ajax({async:!0,crossDomain:!0,url:_e(),method:"POST",headers:{Accept:"*/*","Accept-Language":k(),Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({cerUuid:a}),xhr:function(){return c}}).then((function(e){I(!1);var t=new Blob([e],{type:r});Object(Oa.saveAs)(t,n)})).catch((function(){return I(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!1),h(!0),t.prev=2,a={idUsuario:C().usuarioId},t.next=6,Da.getTraining({navigate:e,postulant:a});case 6:n=t.sent,r=n.data,s=r.listObject[0],c(s),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),i=t.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred");case 16:return t.prev=16,h(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,12,16,19]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){d&&S()})),Object(x.jsx)(x.Fragment,{children:p?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):r&&r.informeList&&r.certificadoList&&Object(x.jsx)(x.Fragment,{children:r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&r.certificadoList.length>0?Object(x.jsx)(x.Fragment,{children:r.certificadoList&&r.certificadoList.map((function(e){return function(e){var t=e.cerEstado,a=e.cerFechaCad,n=e.cerId,c=e.cerNombre,s=(e.cerRuta,e.idCurso),i=e.cerUuid;return Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:24,md:16,lg:16,xl:16,xxl:12,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_CER_ACT"===t.catValor?"accept.png":"cancel.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["Certificate\xa0-\xa0",r&&r.entId.cursoList.filter((function(e){return e.curId===s}))[0].curNombre.catNombre]})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:4,lg:4,xl:4,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,children:Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["Expires: ",a.substring(0,10)]})})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:4,lg:4,xl:4,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(ue.a,{type:"primary",loading:y,disabled:y,onClick:function(){return T({cerUuid:i,cerNombre:c})},children:"Download"})})})})]})},n)}(e)}))}):Object(x.jsx)(je.a,{title:"You will see your certificate once your final report is approved and you submit your beneficiary list.",extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length<1?e.push("/finalreport"):e.push("/beneficiaries/qualification")},children:r.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length<1?"Send Final Report":"Send list of beneficiaries"},"console")})})})},Ba=new ta,qa=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1],s=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!1),t.prev=1,t.next=4,Ba.getTraining({navigate:e,postulant:{idUsuario:C().usuarioId}});case 4:a=t.sent,n=a.data,r=n.listObject[0],localStorage.setItem("mgeInformList",JSON.stringify(r.informeList)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),s=t.t0.response,ve.a.error(409===s.status?s.data[0].messageText:"An error occurred");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){r&&s()})),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px 20px 6px 20px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:3,type:"secondary",children:"Trainings"})})})})})})})})})},Ya=function(e){var t=e.error,a=e.isLoading,n=e.message;return Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsx)(O.a,{children:Object(x.jsxs)(oe.b,{direction:"vertical",style:{display:"flex"},size:"large",children:[t&&Object(x.jsx)(Vt.a,{message:t,type:"warning",showIcon:!0}),a&&Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsxs)(O.a,{style:{textAlign:"center"},children:[Object(x.jsx)(Ge.a,{size:"large"}),n&&Object(x.jsx)(f.a.Paragraph,{children:n})]})})]})})})},Ma=new Dt,za=new aa,Wa=new na,Ha=new ta,Ga=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().id,a=xe.a.useForm(),r=Object(i.a)(a,1)[0],c=Object(n.useState)(!0),s=Object(i.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)(!0),b=Object(i.a)(j,2),p=b[0],h=b[1],g=Object(n.useState)(!1),y=Object(i.a)(g,2),I=y[0],w=y[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),P=N[0],k=N[1],F=Object(n.useState)(!1),E=Object(i.a)(F,2),_=E[0],R=E[1],L=Object(n.useState)(!1),A=Object(i.a)(L,2),V=A[0],D=A[1],U=Object(n.useState)(!1),B=Object(i.a)(U,2),q=B[0],Y=B[1],M=Object(n.useState)(!1),z=Object(i.a)(M,2),W=z[0],H=z[1],G=Object(n.useState)(null),J=Object(i.a)(G,2),K=J[0],X=J[1],$=Object(n.useState)([]),Q=Object(i.a)($,2),Z=Q[0],ee=Q[1],te=Object(n.useState)([]),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)([]),ie=Object(i.a)(ce,2),je=ie[0],be=ie[1],me=Object(n.useState)(0),Oe=Object(i.a)(me,2),fe=Oe[0],ge=Oe[1],ye=Object(n.useState)({type:"warning",message:null}),Ie=Object(i.a)(ye,2),we=Ie[0],Ce=Ie[1],Te=Object(n.useState)(null),Se=Object(i.a)(Te,2),Ne=Se[0],Pe=Se[1],ke=Object(n.useState)(null),Fe=Object(i.a)(ke,2),Ee=Fe[0],_e=Fe[1],Re=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D(!0),!(n=Object(d.a)(Object(d.a)({},a),{},{idEntrenamiento:K.entId})).checked){t.next=20;break}return t.prev=3,t.next=6,za.put({navigate:e,countryTraining:n});case 6:r=t.sent,r.data?Be():ve.a.error("An error occurred."),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),c=t.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred.");case 15:return t.prev=15,D(!1),t.finish(15);case 18:t.next=35;break;case 20:return t.prev=20,t.next=23,za.del({navigate:e,countryTraining:n});case 23:s=t.sent,s.data?Be():ve.a.error("An error occurred."),t.next=32;break;case 28:t.prev=28,t.t1=t.catch(20),i=t.t1.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred.");case 32:return t.prev=32,D(!1),t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[3,11,15,18],[20,28,32,35]])})));return function(e){return t.apply(this,arguments)}}(),Le=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D(!0),n=Object(d.a)(Object(d.a)({},a),{},{idEntrenamiento:K.entId}),!a.checked){t.next=20;break}return t.prev=3,t.next=6,Wa.put({navigate:e,course:n});case 6:r=t.sent,r.data?qe():ve.a.error("An error occurred."),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),c=t.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred.");case 15:return t.prev=15,D(!1),t.finish(15);case 18:t.next=35;break;case 20:return t.prev=20,t.next=23,Wa.del({navigate:e,course:n});case 23:s=t.sent,s.data?qe():ve.a.error("An error occurred."),t.next=32;break;case 28:t.prev=28,t.t1=t.catch(20),i=t.t1.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred.");case 32:return t.prev=32,D(!1),t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[3,11,15,18],[20,28,32,35]])})));return function(e){return t.apply(this,arguments)}}(),Ae=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,c,s,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.posEmail,r.resetFields(),!(Z.filter((function(e){return e.posEmail===n})).length>0)){t.next=6;break}return Ce({type:"warning",message:"Then email ".concat(n," already exists.")}),setTimeout((function(){return Ce({type:"warning",message:null})}),5e3),t.abrupt("return");case 6:return D(!0),c=Object(d.a)(Object(d.a)({},a),{},{idEntrenamiento:K.entId,idInvitadoPor:C().usuarioId}),t.prev=8,t.next=11,Ha.put({navigate:e,postulant:c});case 11:s=t.sent,s.data?(Ce({type:"success",message:"Email ".concat(n," successfully saved.")}),setTimeout((function(){return Ce({type:"warning",message:null})}),5e3),Ye()):ve.a.error("An error occurred."),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(8),i=t.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred.");case 20:return t.prev=20,D(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[8,16,20,23]])})));return function(e){return t.apply(this,arguments)}}(),De=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!0),n=Object(d.a)(Object(d.a)({},a),{},{idEntrenamiento:K.entId,idInvitadoPor:C().usuarioId}),t.prev=2,t.next=5,Ha.del({navigate:e,postulant:n});case 5:r=t.sent,r.data?(Ce({type:"success",message:"Email ".concat(n.posEmail," successfully deleted.")}),setTimeout((function(){return Ce({type:"warning",message:null})}),5e3),Ye()):ve.a.error("An error occurred."),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),c=t.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred.");case 14:return t.prev=14,D(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})));return function(e){return t.apply(this,arguments)}}(),Ue=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u(!1),w(!0),n={entId:t},a.prev=3,a.next=6,Ma.getById({navigate:e,training:n});case 6:r=a.sent,(c=r.data)?(s=c.listObject[0],X(Object(d.a)(Object(d.a)({},s),{},{countries:s.countryTrainingList.map((function(e){return e.paePais.catId})),courses:s.cursoList.map((function(e){return e.curNombre.catId})),entFechaIni:at()(v()(s.entFechaIni.substring(0,10),"YYYY-MM-DD").$d),entFechaFin:at()(v()(s.entFechaFin.substring(0,10),"YYYY-MM-DD").$d)})),Pe(at()(v()(s.entFechaIni.substring(0,10),"YYYY-MM-DD").$d)),_e(at()(v()(s.entFechaFin.substring(0,10),"YYYY-MM-DD").$d)),ge(s.entModalidad.catId),re(s.countryTrainingList),be(s.cursoList)):ve.a.error("An error ocurred"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),i=a.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 15:return a.prev=15,w(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,11,15,18]])})));return function(){return a.apply(this,arguments)}}(),Be=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return k(!0),n={idEntrenamiento:t},a.prev=2,a.next=5,za.getByTraining({navigate:e,countryTraining:n});case 5:r=a.sent,(c=r.data)?(s=c.listObject,re(s)):ve.a.error("An error ocurred"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),i=a.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 14:return a.prev=14,k(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,10,14,17]])})));return function(){return a.apply(this,arguments)}}(),qe=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return R(!0),n={idEntrenamiento:t},a.prev=2,a.next=5,Wa.getByTraining({navigate:e,training:n});case 5:r=a.sent,(c=r.data)?(s=c.listObject,be(s)):ve.a.error("An error ocurred"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),i=a.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 14:return a.prev=14,R(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,10,14,17]])})));return function(){return a.apply(this,arguments)}}(),Ye=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return h(!1),n={entId:t},a.prev=2,a.next=5,Ma.getById({navigate:e,training:n});case 5:r=a.sent,(c=r.data)?(s=c.listObject[0].postulanteList,ee(s)):ve.a.error("An error ocurred"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),i=a.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error ocurred");case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(){return a.apply(this,arguments)}}(),Me=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={idRegion:a.entRegion.catId,entId:a.entId,entCultura:a.entCultura,entFechaFin:a.entFechaFin},D(!0),t.prev=2,t.next=5,Ma.set({navigate:e,training:n});case 5:r=t.sent,(c=r.data)?ve.a.success("Training ".concat(c.listObject[0].entNombre," updated successfully")):ve.a.error("An error occurred."),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),s=t.t0.response,ve.a.error(409===s.status?s.data[0].messageText:"An error occurred.");case 14:return t.prev=14,D(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})));return function(e){return t.apply(this,arguments)}}(),ze=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H(!0),t.prev=1,t.next=4,Ha.sendEmail({navigate:e,postulant:a});case 4:n=t.sent,!1===n.data?ve.a.error("Could not send email",{position:"bottom-center"}):ve.a.success("Email sent successfully",{position:"bottom-center"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),r=t.t0.response,ve.a.error(409===r.status?r.data[0].messageText:"An error occurred. Could not send email.",{position:"bottom-center"});case 13:return t.prev=13,H(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})));return function(e){return t.apply(this,arguments)}}(),We=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n,r,c,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(ne.length<1||je.length<1||Z.length<1)){t.next=3;break}return ve.a.error("Add at least one country, one course and one applicant"),t.abrupt("return");case 3:return a={entId:K.entId,entCultura:K.entCultura,idEstado:T().trainingStatus.filter((function(e){return"ACTIVE"===e.catValor}))[0].catId},Y(!0),t.prev=5,t.next=8,Ma.pub({navigate:e,training:Object(d.a)({},a)});case 8:n=t.sent,(r=n.data)&&(Z.length>0?(c=Z.map((function(t){return Object(se.a)(le.a.mark((function a(){return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Ha.sendEmail({navigate:e,postulant:{posId:t.posId}}));case 1:case"end":return a.stop()}}),a)})))})),H(!0),c.reduce((function(e,t){return e.then(t).then((function(e){!1===e.data?ve.a.error("Could not send email"):ve.a.success("Email sent successfully")})).catch((function(e){var t=e.response;ve.a.error(409===t.status?t.data[0].messageText:"An error occurred. Could not send email.")}))}),Promise.resolve()).then((function(t){H(!1),ve.a.success("Training ".concat(r.listObject[0].entNombre," publish succesfully")),e.push("/training")}))):(ve.a.success("Training ".concat(r.listObject[0].entNombre," publish succesfully")),e.push("/training"))),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),s=t.t0.response,ve.a.error(409===s.status?s.data[0].messageText:"An error occurred.");case 17:return t.prev=17,Y(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){o&&Ue(),p&&Ye()})),Object(x.jsx)(x.Fragment,{children:I?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):K&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(xe.a,{layout:"vertical",initialValues:K,onFinish:Me,disabled:V||q||W,children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"mgeCard",children:Object(x.jsxs)("div",{className:"grid",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){e.push("/training")}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"Edit Training"})]})}),Object(x.jsx)("div",{className:"col-8",style:{textAlign:"right"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",htmlType:"submit",loading:V,disabled:V||"ACTIVE"===K.entEstado.catValor,children:"Save Draft"}),Object(x.jsx)(lt.a,{title:"Are you sure to publish the training?",okText:"Yes, publish",cancelText:"No",onConfirm:function(){return We()},okButtonProps:{loading:q||W},children:Object(x.jsx)(ue.a,{type:"primary",loading:q||W,disabled:q||W||"ACTIVE"===K.entEstado.catValor,children:"Publish"})})]})})]})})})}),Object(x.jsxs)(m.a,{justify:"center",children:[Object(x.jsx)(O.a,{span:24,style:{display:"none"},children:Object(x.jsx)(xe.a.Item,{name:"entId",label:"Id Training",rules:[{required:!0,message:"Complete ID"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsxs)(O.a,{xs:22,sm:22,md:20,lg:18,xl:18,xxl:16,children:[Object(x.jsxs)(m.a,{gutter:[25,25],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["entRegion","catId"],label:"Region",rules:[{required:!0,message:"Select region"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().regions,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"entCultura",label:"Language",rules:[{required:!0,message:"Select language"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"value",value:"id"},options:[{id:"es_EC",value:"Espa\xf1ol"},{id:"en_US",value:"English"}],showSearch:!0,optionFilterProp:"value"})})})]}),Object(x.jsx)(m.a,{gutter:[25,25],children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:"countries",label:"Country",rules:[{required:!0,message:"Select country"}],children:Object(x.jsx)(Ve.a,{disabled:P,mode:"multiple",fieldNames:{label:"catNombre",value:"catId"},options:T().paises.map((function(e){var t=e.catNombre,a=e.catDescripcion.toLowerCase();return Object(d.a)(Object(d.a)({},e),{},{catNombre:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(a,".png"),srcSet:"https://flagcdn.com/48x36/".concat(a,".png 2x,https://flagcdn.com/72x54/").concat(a,".png 3x"),width:"24",height:"18",alt:t}),"\xa0",t]})})})),onSelect:function(e,t){return Re({checked:!0,idPais:t.catId})},onDeselect:function(e,t){return Re({checked:!1,paeId:ne.filter((function(e){return e.paePais.catId===t.catId})).length>0?ne.filter((function(e){return e.paePais.catId===t.catId}))[0].paeId:0})}})})})}),Object(x.jsx)(m.a,{gutter:[25,25],children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:"entNombre",label:"Trainig name",rules:[{required:!0,message:"Complete trainig name"}],children:Object(x.jsx)(pe.a,{disabled:!0})})})}),Object(x.jsx)(m.a,{gutter:[25,25],children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:["entModalidad","catId"],label:"Modality",rules:[{required:!0,message:"Select modality"}],style:{width:"100%",textAlign:"center"},children:Object(x.jsx)(he.a.Group,{buttonStyle:"solid",children:T().modalidades.map((function(e){return function(e){var t=e.catId,a=e.catNombre,n=e.catValor;return Object(x.jsx)(he.a.Button,{value:t,style:{height:"100%",margin:"0 20px 20px 0"},onChange:function(e){return ge(t)},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{style:{padding:"20px 20px",borderRadius:"15px"},children:Object(x.jsx)(Je.a,{preview:!1,src:"./../../assets/".concat(n).concat(t===fe?"_W":"",".png"),width:55,height:50})}),Object(x.jsx)(O.a,{style:{padding:"30px 10px",width:"100px"},children:a})]})},t)}(e)}))})})})}),Object(x.jsxs)(m.a,{gutter:[25,25],children:[Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:"entFechaIni",label:"Start Date",rules:[{required:!0,message:"Select start date"}],children:Object(x.jsx)(Xe.a,{style:{width:"100%"},onChange:Pe,disabledDate:function(e){if(null!==Ee)return e&&e>=Ee.startOf("day")}})})}),Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:"entFechaFin",label:"End Date",rules:[{required:!0,message:"Select end date"}],children:Object(x.jsx)(Xe.a,{style:{width:"100%"},onChange:_e,disabledDate:function(e){if(null!==Ne)return e&&e<=Ne.endOf("day")}})})})]}),Object(x.jsx)(m.a,{gutter:[25,25],children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(xe.a.Item,{name:"courses",label:"Courses",rules:[{required:!0,message:"Select courses"}],children:Object(x.jsx)(Ve.a,{disabled:_,mode:"multiple",showSearch:!0,fieldNames:{label:"catNombre",value:"catId"},options:T().cursos,optionFilterProp:"catNombre",onSelect:function(e,t){return Le({checked:!0,idNombreCurso:t.catId})},onDeselect:function(e,t){return Le({checked:!1,curId:je.filter((function(e){return e.curNombre.catId===t.catId})).length>0?je.filter((function(e){return e.curNombre.catId===t.catId}))[0].curId:0})}})})})})]})]})]}),Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsx)(O.a,{xs:22,sm:22,md:20,lg:18,xl:18,xxl:16,children:Object(x.jsx)(m.a,{children:Object(x.jsxs)(xe.a,{form:r,layout:"vertical",style:{width:"100%"},onFinish:Ae,initialValues:{posEmail:""},disabled:V||q||W,children:[Object(x.jsxs)(O.a,{span:24,children:[Object(x.jsx)(xe.a.Item,{name:["posEmail"],label:"Applicants emails",extra:"Press enter to add email",rules:[{required:!0,message:"Complete applicants"},{type:"email",message:"Email is not valid"}],children:Object(x.jsx)(pe.a,{})}),we.message&&Object(x.jsx)(Vt.a,Object(d.a)(Object(d.a)({},we),{},{showIcon:!0,closable:!0}))]}),Object(x.jsx)(O.a,{span:24,style:{paddingTop:"10px"},children:W?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ya,{error:"",isLoading:W})}):Object(x.jsx)(m.a,{gutter:[15,15],children:Z&&Z.map((function(e){return function(e){var t=e.posId,a=e.posEmail,n=(e.posEnvio,e.posEstado);return Object(x.jsx)(O.a,{children:Object(x.jsxs)(Qt.a,{closeIcon:Object(x.jsx)(Zt.a,{}),onClose:function(e){De({posId:t,posEmail:a})},closable:!0,style:{padding:"5px 15px",borderRadius:"15px",fontSize:"1em"},children:["EST_ENR"===n.catValor?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("i",{className:"fa-solid fa-circle-check"}),"\xa0"]}):"EST_INV"===n.catValor||"ACTIVE"===K.entEstado.catValor?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{title:"Click to send invitation email",children:Object(x.jsx)("i",{className:"fa-solid fa-paper-plane",style:{cursor:"pointer"},onClick:function(){return ze({posId:t})}})}),"\xa0"]}):Object(x.jsx)(x.Fragment,{}),a]},a)},a)}(e)}))})})]})})})})]})})},Ja=new Dt,Ka={bordered:!1,loading:!1,title:"",showHeader:!0,size:"medium",pagination:{position:["none","bottomRight"]}},Xa=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().id,a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!0),h=Object(i.a)(p,2),g=h[0],v=h[1],y=Object(n.useState)(!1),I=Object(i.a)(y,2),w=I[0],C=I[1],T=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return v(!1),C(!0),n={entId:t},a.prev=3,a.next=6,Ja.getById({navigate:e,training:n});case 6:r=a.sent,(c=r.data)?(s(c.listObject[0]),b(c.listObject[0].postulanteList)):ve.a.error("An error ocurred"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),i=a.t0.response,ve.a.error(409===i.status?i.data[0].messageText:"An error occurred");case 15:return a.prev=15,C(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,11,15,18]])})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){g&&T()})),Object(x.jsx)(x.Fragment,{children:w?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsxs)(St.a,{bordered:!1,children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){window.history.go(-1)}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:c.entNombre})]})})}),Object(x.jsxs)(m.a,{gutter:[15,0],justify:"space-around",children:[Object(x.jsxs)(O.a,{style:{padding:"10px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-laptop"}),"\xa0",c.entModalidad.catNombre]}),Object(x.jsxs)(O.a,{style:{padding:"10px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-calendar-days"}),"\xa0",c.entFechaIni.substring(0,10),"-",c.entFechaFin.substring(0,10)]}),Object(x.jsxs)(O.a,{style:{padding:"10px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-graduation-cap"}),"\xa0",c.numPostulantes,"\xa0Applicants"]}),Object(x.jsxs)(O.a,{style:{padding:"5px 10px 0 10px"},children:[Object(x.jsx)("i",{className:"fa-solid fa-earth-americas"})," ".concat(c.entRegion.catDescripcion)]})]})]})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{style:{padding:"15px 0"},children:Object(x.jsxs)(xe.a,{initialValues:{criteria:""},onFinish:function(e){var t=e.criteria,a=t.toUpperCase(),n=t?j.filter((function(e){return e.posEmail.toUpperCase().indexOf(a)>=0||e.usuId.documento.toUpperCase().indexOf(a)>=0||e.usuId.nombres.toUpperCase().indexOf(a)>=0||e.usuId.apellidos.toUpperCase().indexOf(a)>=0||e.usuId.pais.catNombre.toUpperCase().indexOf(a)>=0||e.usuId.ciudad.toUpperCase().indexOf(a)>=0||e.usuId.sexo.catNombre.toUpperCase().indexOf(a)>=0})):j,r=Object(d.a)(Object(d.a)({},c),{},{postulanteList:n});s(r)},layout:"inline",children:[Object(x.jsx)(xe.a.Item,{name:["criteria"],label:"Search expression",children:Object(x.jsx)(pe.a,{style:{width:"100%"}})}),Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{type:"default",htmlType:"submit",children:"Search"})})]})})}),c.postulanteList&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,Object(d.a)(Object(d.a)({},Ka),{},{rowKey:"posId",columns:[{title:"",dataIndex:"posId",render:function(e,t){var a=t.usuId;return a&&a.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(a.imagen.split("/")[a.imagen.split("/").length-1]),width:32,height:32}):Object(x.jsx)("img",{alt:"",src:"./assets/user.png",width:32,height:32})}},{title:"Name",dataIndex:"usuId",render:function(e,t){var a=t.posEmail,n=t.usuId;return n?"".concat(n.nombres," ").concat(n.apellidos):a}},{title:"Country",dataIndex:"country",render:function(e,t){var a=t.usuId;return a?Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("img",{src:"https://flagcdn.com/32x24/".concat(a.pais.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/32x24/".concat(a.pais.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/96x72/").concat(a.pais.catDescripcion.toLowerCase(),".png 3x"),width:"32",height:"24",alt:a.pais.catNombre})}):Object(x.jsx)(x.Fragment,{})},responsive:["md","lg","xl","xxl"]},{title:"Attendance",dataIndex:"attendance",render:function(e,t){var a=t.asistenciaList;return a&&a.length>0?Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("img",{alt:"",src:"./../../assets/".concat((a[a.length-1].asiValor||0)>=80?"accept.png":"cancel.png"),height:24,width:24})}):Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})})},responsive:["xl","xxl"]},{title:"Work Plan",dataIndex:"workPlan",render:function(e,t){var a=t.informeList;return Object(x.jsx)(m.a,{style:{textAlign:"center"},gutter:[0,5],children:c&&c.cursoList.map((function(e){return Object(x.jsxs)(O.a,{span:24,children:["".concat(e.curNombre.catValor.substr(0,1)).concat(e.curNombre.catValor.substr(e.curNombre.catValor.length-1,1)," "),a&&a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_WPL"===t.infTipo.catValor})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})]},e.curId)}))})},responsive:["xl","xxl"]},{title:"Final Report",dataIndex:"finalReport",render:function(e,t){var a=t.informeList;return Object(x.jsx)(m.a,{style:{textAlign:"center"},gutter:[0,5],children:c&&c.cursoList.map((function(e){return Object(x.jsxs)(O.a,{span:24,children:["".concat(e.curNombre.catValor.substr(0,1)).concat(e.curNombre.catValor.substr(e.curNombre.catValor.length-1,1)," "),a&&a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"TYP_INF_FIR"===t.infTipo.catValor})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})]},e.curId)}))})},responsive:["lg","xl","xxl"]},{title:"Certificate",dataIndex:"certificate",render:function(e,t){var a=t.certificadoList;return Object(x.jsx)(m.a,{style:{textAlign:"center"},gutter:[0,5],children:c&&c.cursoList.map((function(e){return Object(x.jsxs)(O.a,{span:24,children:["".concat(e.curNombre.catValor.substr(0,1)).concat(e.curNombre.catValor.substr(e.curNombre.catValor.length-1,1)," "),a&&a.filter((function(t){return t.idCurso===e.curId&&"EST_CER_ACT"===t.cerEstado.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_CER_ACT"===a.filter((function(t){return t.idCurso===e.curId&&"EST_CER_ACT"===t.cerEstado.catValor}))[a.filter((function(t){return t.idCurso===e.curId&&"EST_CER_ACT"===t.cerEstado.catValor})).length-1].cerEstado.catValor?"accept.png":"cancel.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})]},e.curId)}))})},responsive:["lg","xl","xxl"]},{title:"Actions",dataIndex:"",render:function(e,a){var n=a.posId,r=a.usuId;return Object(x.jsx)("div",{style:{textAlign:"center"},children:r?Object(x.jsx)(ue.a,{type:"primary",href:"/#/trainingapplicant/".concat(n,"/").concat(t),children:"View"}):Object(x.jsx)(Qt.a,{color:"#108ee9",children:"Not enrolled"})})}}],dataSource:c.postulanteList}))})]})})},$a=new ta,Qa={marginBottom:20,backgroundColor:"#fafafa",border:"none",borderRadius:"15px"},Za=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)(),a=t.id,r=t.idTraining,c=Object(n.useState)(!0),s=Object(i.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],g=Object(n.useState)(null),v=Object(i.a)(g,2),y=v[0],I=v[1],C=Object(n.useState)(null),T=Object(i.a)(C,2),S=T[0],N=T[1],k=Object(n.useState)(0),F=Object(i.a)(k,2),E=F[0],_=F[1],R=Object(n.useState)(!1),L=Object(i.a)(R,2),A=L[0],V=L[1],D=function(e){var t=e.curId,a=e.curNombre,n=e.infTipo;return Object(x.jsx)(pa.a.Panel,{header:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:y.informeList&&y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t}))[y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"send.png":"EST_INF_APR"===y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t}))[y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"accept.png":"EST_INF_REC"===y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t}))[y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).length-1].infEstado.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["TYP_INF_WPL"===n.catValor?"Workplan - ":"TYP_INF_FIR"===n.catValor?"Final Report - ":"",a.catNombre]})})]}),style:Qa,children:y.informeList&&y.informeList.filter((function(e){return e.infTipo.catValor===n.catValor&&e.idCurso===t})).map((function(e){return function(e){var t=e.infId,a=e.infFechaReg,n=e.infFechaSAprRec,r=e.infNombre,c=e.infEstado,s=e.infObservacion,i=e.infRutaPlan,l=e.evidenciaList;return e.infTipo,Object(x.jsx)(m.a,{className:"mgeCard",style:{backgroundColor:"#f0f0f0",padding:"10px 20px",marginBottom:"10px"},children:Object(x.jsxs)(xa.b,{title:Object(x.jsxs)(m.a,{gutter:10,style:{paddingBottom:"10px"},children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_INF_ENV"===c.catValor?"send.png":"EST_INF_APR"===c.catValor?"accept.png":"EST_INF_REC"===c.catValor?"cancel.png":"minus.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Text,{strong:!0,style:{fontWeight:"normal"},children:r})})]}),size:"small",layout:"vertical",extra:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ue.a,{type:"default",onClick:function(){return B({infNombre:r,infRutaPlan:i})},loading:A,disabled:A,children:"Download"})}),column:{xs:1,sm:2,md:4,lg:4,xl:6,xxl:6},children:[Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Registration date"}),children:a.substring(0,10)}),l&&l.length>0?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Evidences"}),children:Object(x.jsx)("a",{rel:"noreferred noreferrer",target:"_blank",href:"".concat(l[0].eviUrl),children:l[0].eviUrl.length>15?"".concat(l[0].eviUrl.substring(0,15),"..."):l[0].eviUrl})})}):Object(x.jsx)(x.Fragment,{}),n&&Object(x.jsx)(xa.b.Item,{label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Review date"}),children:n.substring(0,10)}),s&&Object(x.jsx)(xa.b.Item,{style:{whiteSpace:"pre-wrap"},label:Object(x.jsx)(f.a.Text,{type:"secondary",strong:!0,children:"Observation"}),children:s})]})},t)}(e)}))},t)},U=function(){var e=Object(se.a)(le.a.mark((function e(t,a){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=P(t),(r=new XMLHttpRequest).responseType="arraybuffer",V(!0),ma.a.ajax({async:!0,crossDomain:!0,url:Ee(),method:"POST",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({cerNombre:t,cerRuta:a}),xhr:function(){return r}}).then((function(e){V(!1);var a=new Blob([e],{type:n});Object(Oa.saveAs)(a,t)})).catch((function(){return V(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(e){var t=e.infNombre,a=e.infRutaPlan,n=P(t),r=new XMLHttpRequest;r.responseType="arraybuffer",V(!0),ma.a.ajax({async:!0,crossDomain:!0,url:Fe(),method:"POST",headers:{Accept:"*/*",Authorization:"Bearer ".concat(w()),"Content-Type":"application/json"},data:JSON.stringify({infNombre:t,infRutaPlan:a}),xhr:function(){return r}}).then((function(e){V(!1);var a=new Blob([e],{type:n});Object(Oa.saveAs)(a,t)})).catch((function(){return V(!1)}))},q=function(){var t=Object(se.a)(le.a.mark((function t(){var n,c,s,i,l,o,d;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!1),h(!0),n={idEntrenamiento:r,posId:a},t.prev=3,t.next=6,$a.getByTraining({navigate:e,training:n});case 6:c=t.sent,(s=c.data)?(i=s.listObject[0].entId.cursoList,(l=s.listObject[0]).asistenciaList.length>0&&(o=l.asistenciaList[l.asistenciaList.length-1].asiValor||0,_(o)),I(l),N(i)):ve.a.error("An error occurred"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),d=t.t0.response,it.b.error(409===d.status?d.data[0].messageText:"An error occurred");case 15:return t.prev=15,h(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,11,15,18]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){o&&q()})),Object(x.jsx)(x.Fragment,{children:p?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):y&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("div",{className:"mgeCard",children:Object(x.jsx)("div",{className:"grid",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(ue.a,{icon:Object(x.jsx)("i",{className:"fa-solid fa-chevron-left"}),onClick:function(){window.history.go(-1)}}),Object(x.jsx)("h3",{style:{padding:"0",margin:"0"},className:"mge-darkGreen",children:"".concat(y.usuId.nombres||"Postulante"," ").concat(y.usuId.apellidos||"")})]})})})})})}),Object(x.jsx)(At.a,{centered:!0,items:[{key:1,label:Object(x.jsx)(f.a.Text,{style:{fontSize:"1.1em",letterSpacing:"1px"},children:"Information"}),children:Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(m.a,{gutter:[25,25],justify:"center",children:[Object(x.jsx)(O.a,{xs:22,sm:20,md:6,lg:6,xl:6,xxl:4,children:Object(x.jsxs)(m.a,{gutter:[15,15],style:{textAlign:"center"},children:[Object(x.jsx)(O.a,{span:24,children:y.usuId.imagen?Object(x.jsx)(Je.a,{src:"/images/".concat(y.usuId.imagen.split("/")[y.usuId.imagen.split("/").length-1]),width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:24,lg:24,xl:24,xxl:24,style:{textAlign:"left"},children:Object(x.jsxs)(f.a.Paragraph,{children:[Object(x.jsx)(f.a.Text,{strong:!0,children:"Role:"}),Object(x.jsx)("br",{}),"Applicant"]})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:24,lg:24,xl:24,xxl:24,style:{textAlign:"left"},children:Object(x.jsxs)(f.a.Paragraph,{children:[Object(x.jsx)(f.a.Text,{strong:!0,children:"Invited by:"}),Object(x.jsx)("br",{}),y.posInvitadoPor?"".concat(y.posInvitadoPor.nombres||""," ").concat(y.posInvitadoPor.apellidos||""):Object(x.jsx)(x.Fragment,{})]})})]})}),Object(x.jsx)(O.a,{xs:22,sm:20,md:14,lg:14,xl:14,xxl:10,children:Object(x.jsx)(xe.a,{initialValues:Object(d.a)(Object(d.a)({},y.usuId),{},{fechanac:y.usuId.fechanac.substring(0,10)}),layout:"vertical",children:Object(x.jsxs)(m.a,{gutter:[25,5],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexo","catNombre"],label:"Sex",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date Birth",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["pais","catNombre"],label:"Country",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["ciudad"],label:"City",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"codigotel",label:"Country Code",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:"Phone number",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:"ID Number",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:"Currenty Working",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",children:Object(x.jsx)(pe.a,{readOnly:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",children:Object(x.jsx)(pe.a,{readOnly:!0})})})]})})})]})})},{key:2,label:Object(x.jsx)(f.a.Text,{style:{fontSize:"1.1em",letterSpacing:"1px"},children:"Progress"}),children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)("img",{alt:"",src:"./../../assets/".concat(E>=80?"accept.png":"cancel.png"),height:24,width:24})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a.Title,{level:5,children:"Attendance"})})]})}),Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{style:{textAlign:"end"},children:Object(x.jsx)(oe.b,{children:Object(x.jsx)(Ot.a,{defaultValue:0,value:E,readOnly:!0,min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},onChange:function(e){return _(e)}})})})})})]})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(pa.a,{accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:S&&S.map((function(e){return D(Object(d.a)(Object(d.a)({},e),{},{infTipo:{catValor:"TYP_INF_WPL"}}))}))})})}),Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(pa.a,{accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:S&&S.map((function(e){return D(Object(d.a)(Object(d.a)({},e),{},{infTipo:{catValor:"TYP_INF_FIR"}}))}))})})}),y&&y.informeList&&y.certificadoList&&Object(x.jsx)(x.Fragment,{children:y.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&Object(x.jsx)(x.Fragment,{children:y.certificadoList&&y.certificadoList.map((function(e){return function(e){var t=e.cerEstado,a=e.cerFechaCad,n=(e.cerFechaReg,e.cerId),r=e.cerNombre,c=e.cerRuta,s=e.idCurso;return Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:24,md:16,lg:16,xl:16,xxl:12,children:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./../../assets/".concat("EST_CER_ACT"===t.catValor?"accept.png":"cancel.png"),preview:!1,width:24,height:24})}),Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["Certificate\xa0-\xa0",S&&S.filter((function(e){return e.curId===s}))[0].curNombre.catNombre]})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:4,lg:4,xl:4,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,children:Object(x.jsx)(O.a,{children:Object(x.jsxs)(f.a.Text,{strong:!0,style:{fontSize:"1.1em"},children:["Expires: ",a.substring(0,10)]})})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:4,lg:4,xl:4,xxl:6,children:Object(x.jsx)(m.a,{gutter:10,justify:"end",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(ue.a,{type:"primary",loading:A,disabled:A,onClick:function(){return U(r,c)},children:"Download"})})})})]})},n)}(e)}))})})]})}]})]})})},en=a(523),tn=a(94),an=a(545),nn=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.put=function(e){var t=e.navigate,a=e.beneficiary;return Se(t).put("".concat(Ne,"/BeneficiaryServiceRest/insertBeneficiary"),a)},this.set=function(e){var t=e.navigate,a=e.beneficiary;return Se(t).patch("".concat(Ne,"/BeneficiaryServiceRest/updateBeneficiary"),a)},this.get=function(e){var t=e.navigate,a=e.beneficiary;return Se(t).post("".concat(Ne,"/BeneficiaryServiceRest/getBeneficiaryById"),a)},this.getByPostulant=function(e){var t=e.navigate,a=e.beneficiary;return Se(t).post("".concat(Ne,"/BeneficiaryServiceRest/getBeneficiariesByPostulant"),a)},this.del=function(e){var t=e.navigate,a=e.beneficiary;return Se(t).post("".concat(Ne,"/BeneficiaryServiceRest/deleteBeneficiary"),a)},this.val=function(e){var t=e.navigate,a=e.beneficiary;return Se(t).patch("".concat(Ne,"/BeneficiaryServiceRest/validateBeneficiary"),a)}})),rn=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.generate=function(e){var t=e.navigate,a=e.course;return Se(t).post("".concat(Ne,"/CertificateServiceRest/generateCertificate"),a)},this.send=function(e){var t=e.navigate,a=e.certificate;return Se(t).patch("".concat(Ne,"/CertificateServiceRest/sendEmailCertificate"),a)},this.downloadByName=function(e){var t=e.navigate,a=e.certificate;return Se(t).post(Ee(),a)},this.downloadByUuid=function(e){var t=e.navigate,a=e.certificate;return Se(t).post(_e(),a)}})),cn=Ve.a.Option,sn=function(e){return Object(x.jsx)(cn,{value:e.catId,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{alt:e.catNombre,src:"https://flagcdn.com/24x18/".concat(e.catDescripcion.substr(0,2).toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(e.catDescripcion.substr(0,2).toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(e.catDescripcion.substr(0,2).toLowerCase(),".png 3x"),width:"24",height:"18"}),"\xa0",e.catNombre]})},e.catValor)},ln=function(e){var t=e.type,a=e.beneficiary,n=e.saveBeneficiary,r=e.isSaving,c=e.closeBeneficiary,s=xe.a.useForm(),l=Object(i.a)(s,1)[0];return 1===t?Object(x.jsx)(x.Fragment,{children:a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(xe.a,{form:l,layout:"vertical",initialValues:a,onFinish:n,disabled:r||a.editDisabled,children:[Object(x.jsxs)("div",{style:{display:"none"},children:[Object(x.jsx)(xe.a.Item,{name:["benId"],label:"ID",children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idTipo"],label:"Type Person",rules:[{required:!0}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idCurso"],label:"Course",rules:[{required:!0}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idPostulante"],label:"Postulante",rules:[{required:!0}],children:Object(x.jsx)(pe.a,{})})]}),Object(x.jsx)(xe.a.Item,{name:["benDocumento"],label:"ID Number",rules:[{required:!0,message:"Complete de ID Number"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["benNombres"],label:"Name",rules:[{required:!0,message:"Complete Name"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idPais"],label:"Country",rules:[{required:!0,message:"Select Country"}],children:Object(x.jsx)(Ve.a,{name:"idPais",children:T().paises.map((function(e){return sn(e)}))})}),Object(x.jsx)(xe.a.Item,{name:["ciudad"],label:"City",rules:[{required:!0,message:"Complete City"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idSexo"],label:"Sex",rules:[{required:!0,message:"Select Sex"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().generos,optionFilterProp:"catNombre"})}),Object(x.jsx)(xe.a.Item,{name:"benTrabaja",label:"Are you currently working?",valuePropName:"checked",rules:[{required:!0}],children:Object(x.jsx)($e.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idNivelInt"],label:"Level Instruction",rules:[{required:!0,message:"Complete Level Instruction"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().educationLevels,optionFilterProp:"catNombre"})})]}),Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{onClick:c,disabled:r,children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",disabled:r||a.editDisabled,loading:r,onClick:function(){l.submit()},children:r?"Saving":"Save"})]})]})}):2===t?Object(x.jsx)(x.Fragment,{children:a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(xe.a,{form:l,layout:"vertical",initialValues:a,onFinish:n,disabled:r||a.editDisabled,children:[Object(x.jsxs)("div",{style:{display:"none"},children:[Object(x.jsx)(xe.a.Item,{name:["benId"],label:"ID",children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idTipo"],label:"Type Person",rules:[{required:!0}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idCurso"],label:"Course",rules:[{required:!0}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idPostulante"],label:"Postulante",rules:[{required:!0}],children:Object(x.jsx)(pe.a,{})})]}),Object(x.jsx)(xe.a.Item,{name:["benDocumento"],label:"ID Number",rules:[{required:!0,message:"Complete ID Number"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["benNombres"],label:"Name",rules:[{required:!0,message:"Complete Name"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idPais"],label:"Country",rules:[{required:!0,message:"Complete Country"}],children:Object(x.jsx)(Ve.a,{name:"idPais",children:T().paises.map((function(e){return sn(e)}))})}),Object(x.jsx)(xe.a.Item,{name:["ciudad"],label:"City",rules:[{required:!0,message:"Complete City"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["idSexo"],label:"Sex",rules:[{required:!0,message:"Select Sex"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().generos,optionFilterProp:"catNombre"})}),Object(x.jsx)(xe.a.Item,{name:["benIdEmpresa"],label:"Company ID",rules:[{required:!0,message:"Complete Company ID"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["benNomEmpresa"],label:"Company Name",rules:[{required:!0,message:"Complete Company Name"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["benCargo"],label:"Job Title",rules:[{required:!0,message:"Complete Job Title"}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:["benNumPer"],label:"Total Collaborators",rules:[{required:!0,message:"Complete Total Collaborators"}],children:Object(x.jsx)(Ot.a,{style:{width:"100%",display:"inline-block"}})}),Object(x.jsxs)(m.a,{gutter:[10],children:[Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:["benHombres"],label:"Men",rules:[{required:!0,message:"Number of men"}],children:Object(x.jsx)(Ot.a,{style:{width:"100%",display:"inline-block"}})})}),Object(x.jsx)(O.a,{span:12,children:Object(x.jsx)(xe.a.Item,{name:["benMujeres"],label:"Women",rules:[{required:!0,message:"Number of women"}],children:Object(x.jsx)(Ot.a,{style:{width:"100%",display:"inline-block"}})})})]})]}),Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{onClick:c,disabled:r,children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",disabled:r||a.editDisabled,loading:r,onClick:function(){l.submit()},children:r?"Saving":"Save"})]})]})}):void 0},on=new ta,dn=new nn,un=new rn,jn=f.a.Title,bn=f.a.Paragraph,xn=f.a.Text,pn=en.a.confirm,hn={bordered:!1,loading:!1,title:"",showHeader:!0,size:"medium",pagination:{position:["none","bottomRight"]}},mn={marginBottom:20,backgroundColor:"#fafafa",border:"none",borderRadius:"15px"},On=function(){var e=Object(l.useHistory)(),t=Object(l.useParams)().operation,a=Object(n.useState)(!0),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),g=h[0],v=h[1],y=Object(n.useState)(!1),w=Object(i.a)(y,2),S=w[0],N=w[1],P=Object(n.useState)(!1),k=Object(i.a)(P,2),F=k[0],E=k[1],_=Object(n.useState)(!1),R=Object(i.a)(_,2),L=R[0],A=R[1],V=Object(n.useState)({}),D=Object(i.a)(V,2),U=D[0],B=D[1],q=Object(n.useState)(null),Y=Object(i.a)(q,2),M=Y[0],ee=Y[1],ae=Object(n.useState)(null),ne=Object(i.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(n.useState)(!1),de=Object(i.a)(ie,2),be=de[0],xe=de[1],pe=Object(n.useState)(!1),he=Object(i.a)(pe,2),fe=he[0],ge=he[1],ye=Object(n.useState)({benId:0}),Ie=Object(i.a)(ye,2),we=Ie[0],Ce=Ie[1],Te=Object(n.useState)(!1),Se=Object(i.a)(Te,2),Ne=Se[0],Pe=Se[1],ke=Object(n.useState)(!1),Fe=Object(i.a)(ke,2),Ee=Fe[0],_e=Fe[1],Re=Object(n.useState)(!1),Le=Object(i.a)(Re,2),Ae=Le[0],Ve=Le[1],De=function(){xe(!1)},Ue=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i,l;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.benId,r=a.idCurso,ee(null),N(!0),t.prev=3,t.next=6,dn.get({navigate:e,beneficiary:{benId:n}});case 6:c=t.sent,s=c.data,i=Object(d.a)(Object(d.a)({},s.listObject[0]),{},{idTipo:s.listObject[0].benTipo.catId,idPais:s.listObject[0].benPais.catId,idSexo:s.listObject[0].benSexo.catId,idNivelInt:s.listObject[0].benNivelInt.catId,editDisabled:U.certificadoList.filter((function(e){return e.idCurso===r})).length>0}),ee(i),xe(!0),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),l=t.t0.response,ve.a.error(409===l.status?l.data[0].messageText:"An error occurred");case 17:return t.prev=17,N(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[3,13,17,20]])})));return function(e){return t.apply(this,arguments)}}(),Be=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E(!0),n=Object(d.a)({},a),t.prev=2,void 0===n.benId){t.next=9;break}return t.next=6,dn.set({navigate:e,beneficiary:n});case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,dn.put({navigate:e,beneficiary:n});case 11:t.t0=t.sent;case 12:r=t.t0,r.data&&et(2),De(),t.next=22;break;case 18:t.prev=18,t.t1=t.catch(2),c=t.t1.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred");case 22:return t.prev=22,E(!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[2,18,22,25]])})));return function(e){return t.apply(this,arguments)}}(),qe=function(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))},Ye=function(){ge(!1)},Me=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i,l;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.benId,r=a.idCurso,ce(null),N(!0),t.prev=3,t.next=6,dn.get({navigate:e,beneficiary:{benId:n}});case 6:c=t.sent,s=c.data,i=Object(d.a)(Object(d.a)({},s.listObject[0]),{},{idTipo:s.listObject[0].benTipo.catId,idPais:s.listObject[0].benPais.catId,idSexo:s.listObject[0].benSexo.catId,editDisabled:U.certificadoList.filter((function(e){return e.idCurso===r})).length>0}),ce(i),ge(!0),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),l=t.t0.response,ve.a.error(409===l.status?l.data[0].messageText:"An error occurred");case 17:return t.prev=17,N(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[3,13,17,20]])})));return function(e){return t.apply(this,arguments)}}(),ze=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E(!0),n=Object(d.a)({},a),t.prev=2,void 0===n.benId){t.next=9;break}return t.next=6,dn.set({navigate:e,beneficiary:n});case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,dn.put({navigate:e,beneficiary:n});case 11:t.t0=t.sent;case 12:r=t.t0,r.data&&et(2),Ye(),t.next=22;break;case 18:t.prev=18,t.t1=t.catch(2),c=t.t1.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred");case 22:return t.prev=22,E(!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[2,18,22,25]])})));return function(e){return t.apply(this,arguments)}}(),We=function(){var t=Object(se.a)(le.a.mark((function t(){var a,n;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(!0),t.prev=1,t.next=4,dn.del({navigate:e,beneficiary:we});case 4:a=t.sent,a.data&&(ve.a.success("Beneficiary successfully removed"),et(2)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),n=t.t0.response,ve.a.error(409===n.status?n.data[0].messageText:"An error occurred");case 13:return t.prev=13,Ce({benId:0}),A(!1),Pe(!1),t.finish(13);case 18:case"end":return t.stop()}}),t,null,[[1,9,13,18]])})));return function(){return t.apply(this,arguments)}}(),He=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.benId,Ce({benId:n}),!(U.beneficiarioList.length-1<(U.entId.entLimBen||1))){t.next=6;break}Pe(!0),t.next=23;break;case 6:return A(!0),t.prev=7,t.next=10,dn.del({navigate:e,beneficiary:{benId:n}});case 10:r=t.sent,r.data&&(ve.a.success("Beneficiary successfully removed"),et(2)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),c=t.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred");case 19:return t.prev=19,Ce({benId:0}),A(!1),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[7,15,19,23]])})));return function(e){return t.apply(this,arguments)}}(),Ge=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(!0),n=Object(d.a)({},a),t.prev=2,t.next=5,dn.val({navigate:e,beneficiary:n});case 5:r=t.sent,r.data&&ve.a.success("Beneficiary successfully updated"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),c=t.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error occurred");case 14:return t.prev=14,E(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})));return function(e){return t.apply(this,arguments)}}(),Ke=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.cerId,Ve(!0),t.prev=2,r={cerId:n},t.next=6,un.send({navigate:e,certificate:r});case 6:c=t.sent,c.data&&ve.a.success("Certificate sent successfully"),s(!0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),ve.a.error("Certificate send failed");case 15:return t.prev=15,Ve(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),Xe=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,s,i,l,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.idCurso,r=a.idPostulante,_e(!0),t.prev=2,c={idCurso:n,idPostulante:r},t.next=6,un.generate({navigate:e,course:c});case 6:s=t.sent,i=s.data,l=i.listObject[0],ve.a.success("Certificate generated successfully"),Ke(l),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),o=t.t0.response,ve.a.error(409===o.status?o.data[0].messageText:"An error occurred");case 17:return t.prev=17,_e(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,13,17,20]])})));return function(e){return t.apply(this,arguments)}}(),Qe=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.idCurso,n=t.idPostulante,pn({title:te(Q),icon:Object(x.jsx)(tn.a,{}),content:te(Z),okText:te(z),cancelText:te(H),onOk:function(){Xe({idCurso:a,idPostulante:n})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(e,a){var n=e.curId,r=e.curNombre;return Object(x.jsxs)(pa.a.Panel,{header:Object(x.jsxs)(m.a,{gutter:10,children:[Object(x.jsxs)(O.a,{children:["registry"===t&&Object(x.jsx)(x.Fragment,{children:U.beneficiarioList&&U.beneficiarioList.filter((function(e){return e.idCurso===n&&e.idPostulante===a})).length>=(U.entId.entLimBen||1)?Object(x.jsx)(Je.a,{src:"./../../assets/accept.png",preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})}),"qualification"===t&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(x.Fragment,{children:U.certificadoList&&U.certificadoList.filter((function(e){return e.idCurso===n&&e.idPostulante===a&&"EST_CER_ACT"===e.cerEstado.catValor})).length>0?Object(x.jsx)(Je.a,{src:"./../../assets/accept.png",preview:!1,width:24,height:24}):Object(x.jsx)(Je.a,{src:"./../../assets/minus.png",preview:!1,width:24,height:24})})})]}),Object(x.jsx)(O.a,{children:Object(x.jsx)(f.a,{children:Object(x.jsx)(xn,{strong:!0,style:{fontSize:"1.1em"},children:r.catNombre})})})]}),style:mn,children:[Object(x.jsxs)(m.a,{children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(f.a,{children:Object(x.jsx)(bn,{children:Object(x.jsx)(xn,{type:"secondary",strong:!0,children:"".concat(te(G)," (").concat(U.entId.entLimBen||1,")")})})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,style:{textAlign:"right"},children:Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"default",loading:g||S,disabled:g||S||Ee||Ae,onClick:function(){et(2)},children:"Refresh"}),U.certificadoList.filter((function(e){return e.idCurso===n})).length<1&&Object(x.jsx)(ue.a,{type:"primary",loading:j,disabled:g||S||Ee||Ae,onClick:function(){"CUR_NEG_VER1"===r.catValor?(b(!0),qe(.5).then((function(){ee(null),ee({idCurso:n,idPostulante:a,benTrabaja:!1,idTipo:T().typePersons.filter((function(e){return e.catValor===(r.catReferencia.catValor||"TYP_PER_NAT")}))[0].catId,editDisabled:!1}),xe(!0),b(!1)}))):"CUR_NEG_VER2"===r.catValor&&(b(!0),qe(.5).then((function(){ce(null),ce({idCurso:n,idPostulante:a,benTrabaja:!1,idTipo:T().typePersons.filter((function(e){return e.catValor===(r.catReferencia.catValor||"TYP_PER_LEG")}))[0].catId,editDisabled:!1}),ge(!0),b(!1)})))},children:"New Beneficiary"}),"qualification"===t&&U.certificadoList.filter((function(e){return e.idCurso===n})).length<1&&Object(x.jsx)(ue.a,{type:"primary",loading:Ee||Ae,disabled:Ee||Ae||g||S,onClick:function(){return Qe({idCurso:n,idPostulante:a})},children:Ee||Ae?"Sending":"Send"})]})})]}),U&&U.beneficiarioList&&Object(x.jsx)(me.a,Object(d.a)(Object(d.a)({loading:g||S},hn),{},{rowKey:"benId",columns:[{title:"ID Number",dataIndex:"benDocumento",render:function(e,t){var a=t.benDocumento;return"".concat(a)},responsive:["md","lg","xl","xxl"]},{title:"Name",dataIndex:"benNombres",render:function(e,t){var a=t.benNombres;return"".concat(a)}},{title:"Country",dataIndex:"benPais",render:function(e,t){var a=t.benPais;return Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("img",{src:"https://flagcdn.com/32x24/".concat(a.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/32x24/".concat(a.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/96x72/").concat(a.catDescripcion.toLowerCase(),".png 3x"),width:"32",height:"24",alt:a.catNombre})})}},{title:"City",dataIndex:"ciudad",render:function(e,t){var a=t.ciudad;return"".concat(a)},responsive:["sm","md","lg","xl","xxl"]},"TYP_PER_NAT"===r.catReferencia.catValor?{title:"Sex",dataIndex:"benSexo",render:function(e,t){var a=t.benSexo;return"".concat(a.catNombre)},responsive:["xl","xxl"]}:{title:"Job Title",dataIndex:"benCargo",render:function(e,t){var a=t.benCargo;return"".concat(a)},responsive:["xl","xxl"]},"TYP_PER_NAT"===r.catReferencia.catValor?{title:"Is Working",dataIndex:"benTrabaja",render:function(e,t){var a=t.benTrabaja;return Object(x.jsx)(x.Fragment,{children:a?"Yes":"No"})},responsive:["lg","xl","xxl"]}:{title:"Company",dataIndex:"benNomEmpresa",render:function(e,t){var a=t.benNomEmpresa;return"".concat(a)},responsive:["lg","xl","xxl"]},"TYP_PER_NAT"===r.catReferencia.catValor?{title:"Ins. Level",dataIndex:"benNivelInt",render:function(e,t){var a=t.benNivelInt;return"".concat(a.catNombre)},responsive:["lg","xl","xxl"]}:{title:"Total Persons",dataIndex:"benNumPer",render:function(e,t){var a=t.benNumPer;return"".concat(a)},responsive:["lg","xl","xxl"]},{title:"Actions",dataIndex:"",render:function(e,a){return Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{type:"primary",icon:Object(x.jsx)(an.a,{}),onClick:function(){"CUR_NEG_VER1"===r.catValor?Ue(a):"CUR_NEG_VER2"===r.catValor&&Me(a)}}),"registry"===t&&U.certificadoList.filter((function(e){return e.idCurso===n})).length<1&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(lt.a,{title:"Are you sure you want to delete the beneficiary?",okText:te(W),cancelText:te(H),onConfirm:function(){return He(a)},okButtonProps:{loading:L,disabled:L},children:Object(x.jsx)(ue.a,{type:"default",danger:!0,icon:Object(x.jsx)(jt.a,{}),loading:L,disabled:L})})}),"qualification"===t&&Object(x.jsx)($e.a,{defaultChecked:a.benValidado,onChange:function(e){Ge(Object(d.a)(Object(d.a)({},a),{},{benValidado:e}))},loading:F,disabled:U.certificadoList.filter((function(e){return e.idCurso===n})).length>0})]})}}],dataSource:U.beneficiarioList.filter((function(e){return e.idCurso===n}))}))]},n)},et=function(){var t=Object(se.a)(le.a.mark((function t(a){var n,r,c,i,l;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!1),a?1===a?v(!0):2===a&&N(!0):v(!0),t.prev=2,n={idUsuario:C().usuarioId},t.next=6,on.getTraining({navigate:e,postulant:n});case 6:r=t.sent,c=r.data,i=c.listObject[0],B(i),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),l=t.t0.response,ve.a.error(409===l.status?l.data[0].messageText:"An error occurred");case 16:return t.prev=16,a?1===a?v(!1):2===a&&N(!1):v(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,12,16,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&et()})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"15px 20px 6px 20px",borderRadius:"15px",marginBottom:"20px"},children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(f.a,{children:Object(x.jsxs)(jn,{type:"secondary",level:3,children:[te(K)," "," ".concat(I(t))]})})})})}),Object(x.jsx)(m.a,{justify:"center",children:g?Object(x.jsx)(Ya,{message:"Loading...",isLoading:g}):Object(x.jsxs)(O.a,{span:24,children:["registry"===t&&Object(x.jsx)(x.Fragment,{children:U&&U.informeList&&U.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0&&U.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length<1?Object(x.jsx)(pa.a,{Collapse:!0,accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:U&&U.informeList&&U.entId&&U.entId.cursoList&&U.informeList.filter((function(e){return"TYP_INF_WPL"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).map((function(e){return Object(d.a)({},U.entId.cursoList.filter((function(t){return t.curId===e.idCurso}))[0])})).map((function(e){return Ze(e,U.posId)}))}):Object(x.jsx)(je.a,{title:"\n                                        There must be at least one approved workplan to register beneficiaries.\n                                        ",extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/workplan")},children:"Send Workplan"},"console")})}),"qualification"===t&&Object(x.jsx)(x.Fragment,{children:U&&U.informeList&&U.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).length>0?Object(x.jsx)(pa.a,{Collapse:!0,accordion:!0,bordered:!1,expandIconPosition:"end",style:{backgroundColor:"transparent"},children:U&&U.informeList&&U.entId&&U.entId.cursoList&&U.informeList.filter((function(e){return"TYP_INF_FIR"===e.infTipo.catValor&&"EST_INF_APR"===e.infEstado.catValor})).map((function(e){return Object(d.a)({},U.entId.cursoList.filter((function(t){return t.curId===e.idCurso}))[0])})).map((function(e){return Ze(e,U.posId)}))}):Object(x.jsx)(je.a,{title:"There must be at least one approved final report to qualify beneficiaries.",extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/finalreport")},children:"Send Final Report"},"console")})})]})}),Object(x.jsx)(Oe.a,{title:te(J),placement:"right",onClose:De,open:be,extra:Object(x.jsx)(oe.b,{children:Object(x.jsx)(ue.a,{onClick:De,disabled:F,children:"Cancel"})}),children:M&&Object(x.jsx)(ln,{type:1,beneficiary:M,saveBeneficiary:Be,closeBeneficiary:De,isSaving:F})}),Object(x.jsx)(Oe.a,{title:te(J),placement:"right",onClose:Ye,open:fe,extra:Object(x.jsx)(oe.b,{children:Object(x.jsx)(ue.a,{onClick:Ye,disabled:F,children:"Cancel"})}),children:re&&Object(x.jsx)(ln,{type:2,beneficiary:re,saveBeneficiary:ze,closeBeneficiary:Ye,isSaving:F})}),Object(x.jsx)(en.a,{title:te(X),open:Ne,onOk:We,confirmLoading:L,onCancel:function(){Pe(!1)},okText:te(W),cancelText:te(H),children:Object(x.jsx)("p",{children:te($)})})]})},fn=a(242),gn=new Le,vn=f.a.Paragraph,yn=f.a.Text,In=function(e){var t=e.user,a=e.navigate,r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],l=c[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),j=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),m=h[0],O=h[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),y=v[0],I=v[1],w=function(){var e=Object(se.a)(le.a.mark((function e(t){var n,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={usuId:t.usuId,oldpassword:Me()(t.password),password:Me()(t.passwordNew)},console.log(n),O(!0),e.prev=3,e.next=6,gn.resetPassword({navigate:a,usuario:n});case 6:r=e.sent,r.data&&ve.a.success("Password reset successfully"),setTimeout((function(){localStorage.removeItem("mgeToken"),localStorage.removeItem("mgeDatosUsuario"),localStorage.removeItem("mgeInformList"),a.push("/login"),O(!1)}),3e3),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),O(!1),c=e.t0.response,ve.a.error(409===c.status?c.data[0].messageText:"An error ocurred");case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{children:Object(x.jsxs)(vn,{children:[Object(x.jsxs)(yn,{strong:!0,children:[t.nombres," ",t.apellidos]}),Object(x.jsxs)(yn,{type:"secondary",children:[Object(x.jsx)("br",{}),t.email]})]})}),Object(x.jsxs)(xe.a,{layout:"vertical",initialValues:Object(d.a)({},t),onFinish:w,disabled:m,children:[Object(x.jsx)(xe.a.Item,{style:{display:"none"},name:"usuId",label:"Usuario",children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Complete password"}],children:Object(x.jsx)(pe.a.Password,{})}),Object(x.jsx)(xe.a.Item,{name:"passwordNew",label:"New Password",rules:[{required:!0,message:"Complete new password"}],children:Object(x.jsx)(pe.a.Password,{onChange:function(e){return l(e.target.value)}})}),Object(x.jsx)(xe.a.Item,{name:"passwordNewConfirm",label:"Confirm New Password",rules:[{required:!0,message:"Confirm new password"}],children:Object(x.jsx)(pe.a.Password,{onChange:function(e){return b(e.target.value)}})}),Object(x.jsx)(De.a,{rules:["minLength","specialChar","number","capital","match"],minLength:8,value:s,valueAgain:j,messages:{minLength:"Password has more than 8 characters.",specialChar:"Password has special characters.",number:"Password has a number.",capital:"Password has a capital letter.",match:"Passwords match."},onChange:function(e){I(e)},style:{padding:"0 0 20px 0",display:y?"none":"block"}}),Object(x.jsxs)(oe.b,{children:[Object(x.jsx)(ue.a,{onClick:function(){window.history.go(-1)},disabled:m,children:"Cancel"}),Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",disabled:m,loading:m,children:m?"Reseting":"Reset Password"})]})]})]})},wn=new Le,Cn=f.a.Title,Tn=function(){var e=C()&&C().usuarioId,t=Object(l.useHistory)(),a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!0),d=Object(i.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)(!1),p=Object(i.a)(b,2),h=p[0],g=p[1],v=function(){var a=Object(se.a)(le.a.mark((function a(){var n,r,c;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return j(!1),g(!0),a.prev=2,a.next=5,wn.get({navigate:t,usuario:{usuId:e}});case 5:n=a.sent,r=n.data,c=r.listObject[0],s(c),a.next=13;break;case 11:a.prev=11,a.t0=a.catch(2);case 13:return a.prev=13,g(!1),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,11,13,16]])})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){u&&v()})),Object(x.jsxs)(m.a,{justify:"center",gutter:[15,20],children:[Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{className:"mgeCard",style:{padding:"15px 20px 10px 20px"},children:Object(x.jsx)(f.a,{children:Object(x.jsx)(Cn,{level:3,children:Object(x.jsx)("span",{className:"mge-darkGreen",children:te(q).split(" ").map((function(e){return"".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1))})).join(" ")})})})})}),Object(x.jsxs)(O.a,{xs:22,sm:18,md:16,lg:14,xl:10,xxl:8,children:[h&&Object(x.jsx)(Ya,{isLoading:h,message:"Please Wait"}),c&&Object(x.jsx)(In,{user:c,navigate:t})]})]})},Sn=function(e){var t,a,r,c,s,d=Object(n.useState)(null),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),m=h[0],O=h[1],f=Object(n.useState)(!0),g=Object(i.a)(f,2),v=g[0],y=g[1],I=Object(n.useState)(!0),w=Object(i.a)(I,2),T=w[0],S=w[1],P=Object(n.useState)(!1),k=Object(i.a)(P,2),F=k[0],E=k[1],_=Object(n.useState)(!1),R=Object(i.a)(_,2),L=R[0],A=R[1],V=Object(n.useState)(!1),D=Object(i.a)(V,2),U=D[0],B=D[1],q=Object(n.useState)(!1),Y=Object(i.a)(q,2),M=Y[0],z=Y[1],W=Object(n.useState)(!1),H=Object(i.a)(W,2),G=H[0],J=H[1],K=Object(n.useRef)(),X=Object(l.useLocation)(),$=N();Object(n.useEffect)((function(){K&&K.current&&K.current.updateTargetEvents()}),[X]),Object(n.useEffect)((function(){m?Q():Z()}),[m]),Object(n.useEffect)((function(){b(!0),E(!1)}),[]);var Q=function(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},Z=function(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")},ee=function(){return window.innerWidth<=991},te=function(){return!1},se=function(){return!1},ie=function(){O(!1),Z()},le=Object(o.e)("layout-wrapper",{"layout-sidebar":"sidebar","layout-static":v,"layout-horizontal":!1,"layout-rightpanel-active":U,"layout-slim":!1,"layout-mobile-active":m,"p-input-filled":"filled","p-ripple-disabled":!1},"layout-menu-light layout-topbar-light");return Object(x.jsxs)("div",{className:le,onClick:function(){!c&&M&&(z(!1),c=!1),!s&&G&&(J(!1),s=!1),!a&&U&&B(!1),!r&&L&&A(!1),t||((se()||te())&&(b(!0),E(!1)),m&&ie(),Z()),c=!1,s=!1,a=!1,r=!1,t=!1},style:{backgroundColor:"#F0F0F0"},children:[Object(x.jsx)(ce.a,{ref:K,target:".block-action-copy",position:"bottom",content:"Copied to clipboard",event:"focus"}),Object(x.jsx)(ae,{topbarScheme:"light",onRightPanelButtonClick:function(){B((function(e){return!e})),a=!0},searchActive:M,onTopbarSearchToggle:function(){z((function(e){return!e})),c=!0},onTopbarSearchClick:function(){c=!0},topbarUserMenuActive:G,onTopbarUserMenuClick:function(){J((function(e){return!e})),s=!0},menu:$,menuActive:F,onRootMenuItemClick:function(){E((function(e){return!e}))},mobileMenuActive:m,onMenuItemClick:function(e){e.item.items||(b(!0),ie()),e.item.items||!se()&&!te()||E(!1)},menuMode:"sidebar",sidebarStatic:v,sidebarActive:T,onSidebarMouseOver:function(){S(!ee())},onSidebarMouseLeave:function(){S(!1)},onToggleMenu:function(e){t=!0,y((function(e){return!e})),e.preventDefault()},onMenuButtonClick:function(e){t=!0,J(!1),B(!1),ee()&&(O((function(e){return!e})),m?Q():Z()),e.preventDefault()},resetActiveIndex:j,onMenuClick:function(e){F&&"layout-menu-container"===e.target.className&&(b(!0),E(!1)),t=!0}}),Object(x.jsx)(re,{onRightPanelClick:function(){a=!0}}),Object(x.jsxs)("div",{className:"layout-main",children:[Object(x.jsx)("div",{className:"mgeBG",style:{opacity:"0.3",height:"100vh",position:"fixed",width:"100%",bottom:"0",right:"0"},children:"\xa0"}),Object(x.jsxs)("div",{className:"layout-content",children:[Object(x.jsx)(l.Route,{exact:!0,path:"/",render:function(){return C()&&C().opciones&&C().opciones.length>0?Object(x.jsx)(fn.Redirect,{to:C().opciones[0].actionOpcion}):Object(x.jsx)(fn.Redirect,{to:"/login"})}}),Object(x.jsx)(l.Route,{path:"/dashboard",exact:!0,component:Rt}),Object(x.jsx)(l.Route,{path:"/user/:id",exact:!0,component:qt}),Object(x.jsx)(l.Route,{path:"/traininginfo/:id",exact:!0,component:Xa}),Object(x.jsx)(l.Route,{path:"/trainingapplicant/:id/:idTraining",exact:!0,component:Za}),Object(x.jsx)(l.Route,{path:"/users",exact:!0,component:We}),Object(x.jsx)(l.Route,{path:"/usernew",exact:!0,component:Wt}),Object(x.jsx)(l.Route,{path:"/users/:id",exact:!0,component:ct}),Object(x.jsx)(l.Route,{path:"/resetPassword",exact:!0,component:Tn}),Object(x.jsx)(l.Route,{path:"/myaccount",exact:!0,component:Kt}),Object(x.jsx)(l.Route,{path:"/opciones",exact:!0,component:mt}),Object(x.jsx)(l.Route,{path:"/perfiles",exact:!0,component:vt}),Object(x.jsx)(l.Route,{path:"/perfil/:id/:nombre",exact:!0,component:Tt}),Object(x.jsx)(l.Route,{path:"/training",exact:!0,component:$t}),Object(x.jsx)(l.Route,{path:"/training/:id",exact:!0,component:ba}),Object(x.jsx)(l.Route,{path:"/trainingedit/:id",exact:!0,component:Ga}),Object(x.jsx)(l.Route,{path:"/trainingnew",exact:!0,component:da}),Object(x.jsx)(l.Route,{path:"/applicants",exact:!0,component:ba}),Object(x.jsx)(l.Route,{path:"/applicants/:id/:idTraining",exact:!0,component:Ca}),Object(x.jsx)(l.Route,{path:"/classes",exact:!0,component:qa}),Object(x.jsx)(l.Route,{path:"/workplan",exact:!0,component:Fa}),Object(x.jsx)(l.Route,{path:"/beneficiaries/:operation",exact:!0,component:On}),Object(x.jsx)(l.Route,{path:"/finalreport",exact:!0,component:Va}),Object(x.jsx)(l.Route,{path:"/certificate",exact:!0,component:Ua})]}),Object(x.jsx)(ne,{})]}),Object(x.jsx)("div",{className:"layout-mask modal-in"})]})},Nn={headers:{"Accept-Language":k()}},Pn=Object(ye.a)((function e(){Object(Ie.a)(this,e),this.autenticar=function(e){var t=e.credenciales;return Ce.a.post("".concat(Ne,"/UserServiceRest/authenticateUser"),t,Nn)},this.autorizar=function(e){var t=e.credenciales;return Ce.a.post("".concat(Ne,"/UserServiceRest/authorizeUser"),t,Nn)},this.validateResetPassword=function(e){var t=e.datos;return Ce.a.post("".concat(Ne,"/UserServiceRest/validateUserUuid"),t,Nn)},this.recoveryPassword=function(e){var t=e.datos;return Ce.a.post("".concat(Ne,"/UserServiceRest/recoveryPassword"),t,Nn)},this.updatePassword=function(e){var t=e.datos;return Ce.a.patch("".concat(Ne,"/UserServiceRest/updatePassword"),t,Nn)}})),kn={"Accept-Language":k()},Fn=Object(ye.a)((function e(){var t=this;Object(Ie.a)(this,e),this.getPaises=function(){return t.getPorPadre({catalogo:{catValor:"CAT_PAISES"}})},this.getModalidad=function(){return t.getPorPadre({catalogo:{catValor:"CAT_MODALIDAD"}})},this.getCursos=function(){return t.getPorPadre({catalogo:{catValor:"CAT_CURSOS"}})},this.getGeneros=function(){return t.getPorPadre({catalogo:{catValor:"CAT_SEXO"}})},this.getTrainingStatus=function(){return t.getPorPadre({catalogo:{catValor:"CAT_EST_ENT"}})},this.getReportType=function(){return t.getPorPadre({catalogo:{catValor:"CAT_TIP_INF"}})},this.getReportStatus=function(){return t.getPorPadre({catalogo:{catValor:"CAT_EST_INF"}})},this.getStates=function(){return t.getPorPadre({catalogo:{catValor:"CAT_EST_REG"}})},this.getEducationLevel=function(){return t.getPorPadre({catalogo:{catValor:"CAT_EDU_LEV"}})},this.getTypePerson=function(){return t.getPorPadre({catalogo:{catValor:"CAT_TYP_PER"}})},this.getRegion=function(){return t.getPorPadre({catalogo:{catValor:"CAT_REGIONS"}})},this.gets=function(e){var t=e.navigate;return Se(t).get("".concat(Ne,"/CatalogServiceRest/getCatalogsList"))},this.getsFiltro=function(e){var t=e.navigate,a=e.filtros;return Se(t).post("".concat(Ne,"/CatalogServiceRest/getCatalogByFilter"),Object(d.a)({},a))},this.getPorPadre=function(e){var t=e.catalogo;return Ce.a.create({headers:kn}).post(Pe(),t)},this.getCatalogo=function(e){var t=e.catalogo;return Ce.a.create({headers:kn}).post(Pe(),t)},this.get=function(e){var t=e.navigate,a=e.catalogo;return Se(t).post("".concat(Ne,"/CatalogServiceRest/getCatalogById"),a)},this.set=function(e){var t=e.navigate,a=e.catalogo;return Se(t).post(void 0!==a.catId&&null!==a.catId&&""!==a.catId?"".concat(Ne,"/CatalogServiceRest/updateCatalog"):"".concat(Ne,"/CatalogServiceRest/insertCatalog"),a)},this.del=function(e){var t=e.navigate,a=e.catalogo;return Se(t).post("".concat(Ne,"/CatalogServiceRest/deleteCatalog"),a)}})),En=(a(505),new Pn),_n=new Fn,Rn=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)(null),p=Object(i.a)(b,2),h=p[0],g=p[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),I=y[0],w=y[1],T=xe.a.useForm(),S=Object(i.a)(T,1)[0],N=function(t){j(""),c(!0),En.autorizar({credenciales:t}).then((function(t){c(!1);var a=t.data,n=t.headers.authorization;localStorage.setItem("mgeToken",n.replace("Bearer","").trim());var r=a.listObject[0].opciones.map((function(e){return e.actionOpcion.indexOf("/beneficiaries/")>=0?Object(d.a)(Object(d.a)({},e),{},{visible:!1}):Object(d.a)(Object(d.a)({},e),{},{visible:true})}));localStorage.setItem("mgeDatosUsuario",JSON.stringify(Object(d.a)(Object(d.a)({},C()),{},{opciones:r})));var s=[];s.push(_n.getPaises()),s.push(_n.getCursos()),s.push(_n.getModalidad()),s.push(_n.getGeneros()),s.push(_n.getTrainingStatus()),s.push(_n.getReportType()),s.push(_n.getReportStatus()),s.push(_n.getStates()),s.push(_n.getEducationLevel()),s.push(_n.getTypePerson()),s.push(_n.getRegion());var i=[];Promise.all(s).then((function(e){e.length>0&&(i={paises:e[0].data.listObject,cursos:e[1].data.listObject,modalidades:e[2].data.listObject,generos:e[3].data.listObject,trainingStatus:e[4].data.listObject,reportType:e[5].data.listObject,reportStatus:e[6].data.listObject,states:e[7].data.listObject,educationLevels:e[8].data.listObject,typePersons:e[9].data.listObject,regions:e[10].data.listObject}),localStorage.setItem("mgeCatalogos",JSON.stringify(i))})).catch((function(e){var t=e.response,a=409===t.status?t.data[0].messageText:t.data;j(a)})),e.push(C().opciones[0].actionOpcion||"/")})).catch((function(e){c(!1);var t=e.response;500===t.status?j(t.statusText):404===t.status?j(te(B)):j(t.data[0].messageText)}))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"wrap-login100",children:[Object(x.jsxs)("div",{className:"login100-form validate-form",children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center",padding:"0 20px 50px 20px"},children:Object(x.jsx)(Je.a,{alt:"",src:"./../assets/logo.png",preview:!1})})}),Object(x.jsx)(m.a,{children:Object(x.jsxs)(O.a,{span:24,style:{textAlign:"center",padding:"0 20px 20px 20px"},children:[Object(x.jsx)(f.a.Title,{level:2,children:Object(x.jsx)("span",{className:"mge-darkGreen",children:te(F)})}),Object(x.jsx)(f.a.Title,{level:4,children:Object(x.jsx)("span",{className:"mge-green",children:te(E)})})]})}),h&&h.perfiles.length>0&&I?Object(x.jsxs)(m.a,{gutter:[10,10],children:[Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)(be.a,{children:Object(x.jsx)("span",{style:{textTransform:"uppercase",letterSpacing:"1px"},children:"Ingresar como"})})}),h.perfiles.length>0&&h.perfiles.map((function(e){return function(e){var t=e.idPerfil,a=e.perfil;return Object(x.jsx)(O.a,{xs:12,sm:12,md:12,lg:12,xl:12,children:Object(x.jsx)(St.a,{hoverable:!0,onClick:function(){return N({usuId:h.usuarioId,perId:t})},actions:[Object(x.jsx)(f.a.Title,{level:5,style:{color:"#333"},children:a})],style:{backgroundColor:"#F0F0F0",borderColor:"#CCC"},children:Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsx)(O.a,{children:Object(x.jsx)(Je.a,{src:"./assets/"+a+"_1.png",preview:!1})})})})},t)}(e)}))]}):Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsxs)(xe.a,{layout:"vertical",form:S,onFinish:function(e){j("");var t=Object(d.a)(Object(d.a)({},e),{},{password:Me()(e.password)});c(!0),En.autenticar({credenciales:t}).then((function(e){c(!1);var t=e.data.listObject[0];if(localStorage.setItem("mgeDatosUsuario",JSON.stringify(t)),g(t),t.perfiles&&t.perfiles.length>0)if(1===t.perfiles.length){var a={usuId:t.usuarioId,perId:t.perfiles[0].perId};N(a)}else t.perfiles.length>1&&w(!0)})).catch((function(e){c(!1);var t=e.response;500===t.status?j(t.statusText):404===t.status?j(te(B)):j(t.data[0].messageText)}))},children:[Object(x.jsx)(xe.a.Item,{label:te(_),name:"email",rules:[{type:"email",message:te(D)},{required:!0,message:te(A)}],children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(xe.a.Item,{label:te(R),name:"password",rules:[{required:!0,message:te(V)}],children:Object(x.jsx)(pe.a.Password,{})}),Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{style:{backgroundColor:"#385A28",borderColor:"#385A28"},type:"primary",htmlType:"submit",loading:r,disabled:r,block:!0,children:te(L)})})]})})}),Object(x.jsx)(Ya,{error:u,isLoading:r}),Object(x.jsx)(m.a,{justify:"center",style:{paddingTop:"15px"},children:Object(x.jsx)(O.a,{children:Object(x.jsx)(ue.a,{type:"link",onClick:function(){e.push("/recover")},children:te(U)})})})]}),Object(x.jsx)("div",{className:"login100-more",style:{backgroundImage:"url(./assets/fondoLogin.png)",backgroundColor:"#70B450"}})]})})},Ln=a(514),An=Ve.a.Option,Vn=new Le,Dn=new ta,Un=new Fn,Bn=function(e){return Object(x.jsx)("div",{children:e.messageText},e.messageCode)},qn=function(){var e=Object(l.useLocation)().search,t=JSON.parse('{"'+e.substring(1,e.length).replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)})),a=t.id,r=t.uuid,c=Object(n.useState)(),s=Object(i.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)([]),b=Object(i.a)(j,2),p=b[0],h=b[1],g={onRemove:function(e){var t=p.indexOf(e),a=p.slice();a.splice(t,1),h(a),u(null)},beforeUpload:function(e){return h([].concat(Object(He.a)(p),[e])),u(URL.createObjectURL(e)),!1},fileList:p},v=Object(l.useHistory)(),I=Object(n.useState)(!0),w=Object(i.a)(I,2),C=w[0],S=w[1],N=Object(n.useState)(!1),P=Object(i.a)(N,2),F=P[0],E=P[1],_=Object(n.useState)(!1),R=Object(i.a)(_,2),L=R[0],A=R[1],V=Object(n.useState)(!1),D=Object(i.a)(V,2),U=D[0],B=D[1],q=Object(n.useState)(""),Y=Object(i.a)(q,2),M=Y[0],z=Y[1],W=Object(n.useState)(""),H=Object(i.a)(W,2),G=H[0],J=H[1],K=Object(n.useState)(!1),X=Object(i.a)(K,2),$=X[0],Q=X[1],Z=Object(n.useState)(!1),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null),re=Object(i.a)(ne,2),ce=re[0],ie=re[1],be=function(){var e=Object(se.a)(le.a.mark((function e(){var t,n,c,s,i,l,o,d,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),t={posId:a,posUuid:r},e.prev=2,e.next=5,Dn.validate({postulant:t});case 5:n=e.sent,(c=n.data)&&(s=c.listObject[0],i=s.posEmail,l=s.idInvitadoPor,o=s.posId,d=s.posEstado,ie({email:i,invitadopor:l,idPostulante:o,posEstado:d})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),u=e.t0.response,ve.a.error(409===u.status?u.data[0].messageText:"An error occurred.");case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!1),E(!0),(t=[]).push(Un.getPaises()),t.push(Un.getCursos()),t.push(Un.getModalidad()),t.push(Un.getGeneros()),t.push(Un.getTrainingStatus()),t.push(Un.getReportType()),t.push(Un.getReportStatus()),t.push(Un.getStates()),t.push(Un.getEducationLevel()),t.push(Un.getTypePerson()),t.push(Un.getRegion()),a=[],Promise.all(t).then((function(e){e.length>0&&(a={paises:e[0].data.listObject,cursos:e[1].data.listObject,modalidades:e[2].data.listObject,generos:e[3].data.listObject,trainingStatus:e[4].data.listObject,reportType:e[5].data.listObject,reportStatus:e[6].data.listObject,states:e[7].data.listObject,educationLevels:e[8].data.listObject,typePersons:e[9].data.listObject,regions:e[9].data.listObject},be()),localStorage.setItem("mgeCatalogos",JSON.stringify(a))})).catch((function(e){var t=e.response,a=409===t.status?t.data[0].messageText:t.data;ve.a.error(a),E(!1)}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.usuId,(n=new FormData).append("file",p[0]),n.append("usuId",a),A(!0),e.prev=5,e.next=8,Vn.upLoadPhoto({datos:n});case 8:r=e.sent,(c=r.data)&&c.listObject.length>0&&c.listObject[0].usuId&&(ve.a.success("Your account has been created successfully. Please log in."),setTimeout((function(){v.push("/login")}),3e3)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),ve.a.error("Upload failed");case 16:return e.prev=16,B(!1),A(!1),h([]),e.finish(16);case 21:case"end":return e.stop()}}),e,null,[[5,13,16,21]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,r,c,s,i,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(d.a)(Object(d.a)({},t),{},{password:Me()(t.password),passwordConfirm:Me()(t.passwordConfirm),trabaja:$,perId:5,cultura:k()},ce),B(!0),e.prev=2,e.next=5,Vn.put({usuario:a});case 5:n=e.sent,(r=n.data)&&r.listObject.length>0&&r.listObject[0].usuId&&(c=r.listObject[0],me(c)),e.next=22;break;case 10:e.prev=10,e.t0=e.catch(2),B(!1),s=e.t0.response,i=s.status,l=s.data,e.t1=i,e.next=409===e.t1?17:500===e.t1?19:21;break;case 17:return ve.a.error(l.map((function(e){return Bn(e)}))),e.abrupt("break",22);case 19:return ve.a.error(l),e.abrupt("break",22);case 21:return e.abrupt("break",22);case 22:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C&&he()})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{className:"notification",style:{borderRadius:"0px",textAlign:"center"},children:Object(x.jsx)(Je.a,{alt:"",src:"./../assets/logo.png",preview:!1})})})}),Object(x.jsxs)(Ln.a,{style:{padding:"40px 20px",backgroundColor:"#F9F9F9"},children:[Object(x.jsx)("div",{className:"mgeBG",style:{opacity:"0.3",height:"100vh",position:"fixed",width:"100%",bottom:"0",right:"0"},children:"\xa0"}),F?Object(x.jsx)(m.a,{style:{padding:"30px 10px"},children:Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ge.a,{size:"large",tip:Object(x.jsx)(f.a.Paragraph,{style:{padding:"10px 0"},children:"Loading..."})})})}):ce&&Object(x.jsx)(x.Fragment,{children:"EST_INV"===ce.posEstado.catValor?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,style:{padding:"0 0 30px 0"},children:Object(x.jsxs)(f.a.Paragraph,{style:{textAlign:"center"},children:[Object(x.jsx)(f.a.Text,{className:"mge-darkGreen",style:{display:"block",fontSize:"2em",fontWeight:"bold"},children:"Welcome to My Green Enterprise"}),Object(x.jsx)(f.a.Text,{className:"mge-green",style:{display:"block",fontSize:"1.5em"},children:"Complete the following information to active your account"})]})})}),Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsx)(O.a,{xs:24,sm:22,md:24,lg:20,xl:18,xxl:12,children:Object(x.jsx)(xe.a,{layout:"vertical",initialValues:ce,onFinish:Oe,disabled:U,children:Object(x.jsxs)(m.a,{gutter:[10,0],children:[Object(x.jsx)(O.a,{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"file",label:"Upload your profile picture",rules:[{required:!0,message:"Select your profile picture"}],children:Object(x.jsxs)(m.a,{gutter:[0,10],children:[Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:o?Object(x.jsx)(Je.a,{src:o,width:128,height:128}):Object(x.jsx)(Je.a,{src:"./../assets/photo_profile.png",width:128,height:128})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(Ke.a,Object(d.a)(Object(d.a)({multiple:!1},g),{},{children:Object(x.jsx)(ue.a,{type:"primary",icon:Object(x.jsx)(Ze.a,{}),disabled:p.length>0,children:"Select Photo"})}))})]})})}),Object(x.jsx)(O.a,{xs:24,sm:16,md:16,lg:16,xl:16,xxl:16,children:Object(x.jsxs)(m.a,{gutter:[15,0],children:[Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"nombres",label:"First Name",rules:[{required:!0,message:"Complete first Name"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"apellidos",label:"Last Name",rules:[{required:!0,message:"Complete last Name"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:["sexoId"],label:"Sex",rules:[{required:!0,message:"Select sex"}],children:Object(x.jsx)(Ve.a,{style:{width:"100%",display:"inline-block"},fieldNames:{label:"catNombre",value:"catId"},showSearch:!0,options:T().generos,optionFilterProp:"catNombre"})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"fechanac",label:"Date of birth",rules:[{required:!0,message:"Select date of birth"}],children:Object(x.jsx)(Xe.a,{format:"YYYY-MM-DD",style:{width:"100%"},disabledDate:y})})})]})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"documento",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"ID Number"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"This is the unique identification number issued by the country of residence."}),placement:"right",children:Object(x.jsx)(et.a,{})})]}),rules:[{required:!0,message:"Complete ID Number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"paisId",label:"Country",rules:[{required:!0,message:"Select country"}],children:Object(x.jsx)(Ve.a,{name:"paisId",children:T().paises.map((function(e){return t=e,Object(x.jsx)(An,{value:t.catId,children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catNombre}),"\xa0",t.catNombre]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"ciudad",label:"City",rules:[{required:!0,message:"Complete city"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"codigotel",label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Country Code"}),rules:[{required:!0,message:"Select country code"}],children:Object(x.jsx)(Ve.a,{name:"codigotel",children:T().paises.map((function(e){return t=e,Object(x.jsx)(An,{value:t.catId,children:Object(x.jsxs)(x.Fragment,{children:["+(",t.catValor,")\xa0",Object(x.jsx)("img",{src:"https://flagcdn.com/24x18/".concat(t.catDescripcion.toLowerCase(),".png"),srcSet:"https://flagcdn.com/48x36/".concat(t.catDescripcion.toLowerCase(),".png 2x,https://flagcdn.com/72x54/").concat(t.catDescripcion.toLowerCase(),".png 3x"),width:"24",height:"18",alt:t.catDescripcion})]})},t.catValor);var t}))})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"celular",label:Object(x.jsx)("span",{style:{padding:"0 0 2px 0"},children:"Phone Number"}),rules:[{required:!0,message:"Complete phone number"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:8,lg:8,xl:8,xxl:8,children:Object(x.jsx)(xe.a.Item,{name:"lugartrabajo",label:Object(x.jsxs)(oe.b,{direction:"horizontal",children:[Object(x.jsx)(x.Fragment,{children:"Are you currently working?"}),Object(x.jsx)(de.a,{title:Object(x.jsx)(x.Fragment,{children:"Please write the complete name of the institution."}),placement:"right",children:Object(x.jsx)(et.a,{})}),Object(x.jsx)($e.a,{onChange:function(e){Q(e)}})]}),rules:[{required:$,message:"If yes, please write the complete name of the institution."}],children:Object(x.jsx)(pe.a,{name:"lugartrabajo",disabled:!$})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Complete email"},{type:"email",message:"Email is not valid"}],children:Object(x.jsx)(pe.a,{disabled:!0})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{name:"email2",label:"Additional Email",rules:[{required:!0,message:"Complete additional email"},{type:"email",message:"Additional email is not valid"}],children:Object(x.jsx)(pe.a,{})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{label:"Create your password",name:"password",rules:[{required:!0,message:"Create your password"}],children:Object(x.jsx)(pe.a.Password,{id:"password",name:"password",onChange:function(e){return z(e.target.value)}})})}),Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(xe.a.Item,{label:"Confirm your password",name:"passwordConfirm",rules:[{required:!0,message:"Confirm your password"}],children:Object(x.jsx)(pe.a.Password,{id:"passwordConfirm",name:"passwordConfirm",onChange:function(e){return J(e.target.value)}})})}),!1===te&&Object(x.jsx)(O.a,{xs:24,sm:12,md:12,lg:12,xl:12,xxl:12,children:Object(x.jsx)(De.a,{rules:["minLength","specialChar","number","capital","match"],minLength:8,value:M,valueAgain:G,messages:{minLength:"Password has more than 8 characters.",specialChar:"Password has special characters.",number:"Password has a number.",capital:"Password has a capital letter.",match:"Passwords match."},onChange:function(e){console.log(e),ae(e)},style:{padding:"0 0 20px 0"}})}),Object(x.jsx)(O.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:F||L,disabled:F||L,block:!0,children:"Register"})})})]})})})})]}):Object(x.jsx)(je.a,{title:"Your account has been previously created",extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){v.push("/login")},children:"Log in"},"console")})})]})]})},Yn=new Pn,Mn=function(){var e=Object(l.useHistory)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)(null),p=Object(i.a)(b,2),h=p[0],f=p[1],g=Object(n.useState)(!0),v=Object(i.a)(g,2),y=v[0],I=v[1],w=xe.a.useForm(),C=Object(i.a)(w,1)[0],T=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),f(null),j(null),c(!0),a=Object(d.a)({},t),e.prev=5,e.next=8,Yn.recoveryPassword({datos:a});case 8:j("Your password was sent to the indicated email. Check your inbox."),I(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),500===(n=e.t0.response).status?f(n.statusText):404===n.status?f(te(B)):f(n.data[0].messageText);case 16:return e.prev=16,c(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,12,16,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{className:"notification",style:{borderRadius:"0px",textAlign:"center"},children:Object(x.jsx)(Je.a,{alt:"",src:"./../assets/logo.png",preview:!1})})})}),Object(x.jsxs)(Ln.a,{style:{padding:"40px 20px",backgroundColor:"#F9F9F9"},children:[Object(x.jsx)("div",{className:"mgeBG",style:{opacity:"0.3",height:"100vh",position:"fixed",width:"100%",bottom:"0",right:"0"},children:"\xa0"}),!0===y&&u?Object(x.jsx)(je.a,{status:"success",title:u,extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/login")},children:"Log in"},"console")}):Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsxs)(O.a,{xs:24,sm:18,md:16,lg:12,xl:8,xxl:6,children:[Object(x.jsx)(be.a,{children:Object(x.jsx)("span",{className:"mge-darkGreen",style:{textTransform:"uppercase",letterSpacing:"1px"},children:"Recover password"})}),Object(x.jsxs)(xe.a,{layout:"vertical",form:C,onFinish:T,children:[Object(x.jsx)(xe.a.Item,{label:"Email",name:"email",rules:[{type:"email",message:"Email is not valid"},{required:!0,message:"Complete your email"}],children:Object(x.jsx)(pe.a,{id:"email",name:"email",label:"Email",type:"text"})}),h&&Object(x.jsx)(Vt.a,{message:"",description:h,type:"warning",showIcon:!0,closable:!0,banner:!0}),u&&Object(x.jsx)(Vt.a,{message:"",description:u,type:"success",showIcon:!0,closable:!0,banner:!0}),Object(x.jsx)("div",{style:{paddingTop:"20px"},children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:r,disabled:r,block:!0,children:"Recover Password"})})})]})]})})]})]})},zn=new Pn,Wn=function(){var e=Object(l.useHistory)(),t=Object(l.useLocation)().search,a=JSON.parse('{"'+t.substring(1,t.length).replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)})),r=a.id,c=a.uuid,s=Object(n.useState)(!0),o=Object(i.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],f=Object(n.useState)(!1),g=Object(i.a)(f,2),v=g[0],y=g[1],I=Object(n.useState)(!1),w=Object(i.a)(I,2),C=w[0],T=w[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),P=N[0],k=N[1],F=Object(n.useState)(""),E=Object(i.a)(F,2),_=E[0],R=E[1],L=Object(n.useState)(""),A=Object(i.a)(L,2),V=A[0],D=A[1],U=Object(n.useState)(null),q=Object(i.a)(U,2),Y=q[0],M=q[1],z=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(null),T(!0),e.prev=2,e.next=5,zn.updatePassword({datos:{usuId:r,uuid:c,password:Me()(t.password),passwordConfirm:Me()(t.passwordConfirm)}});case 5:a=e.sent,a.data&&(M(Object(x.jsxs)(x.Fragment,{children:["Password has been successfully changed. ",Object(x.jsx)("br",{}),"Please log in again."]})),k(!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),500===(n=e.t0.response).status?ve.a.error(n.statusText):404===n.status?ve.a.error(te(B)):ve.a.error(n.data[0].messageText);case 14:return e.prev=14,T(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(se.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),h(!0),e.prev=2,t={usuId:r,uuid:c},e.next=6,zn.validateResetPassword({datos:t});case 6:a=e.sent,a.data&&y(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),500===(n=e.t0.response).status?ve.a.error(n.statusText):404===n.status?ve.a.error(te(B)):409===n.status?y(!1):ve.a.error(n.data[0].messageText);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d&&W()})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:Object(x.jsx)("div",{className:"notification",style:{borderRadius:"0px",textAlign:"center"},children:Object(x.jsx)(Je.a,{alt:"",src:"./../assets/logo.png",preview:!1})})})}),Object(x.jsxs)(Ln.a,{style:{padding:"40px 20px",backgroundColor:"#F9F9F9"},children:[Object(x.jsx)("div",{className:"mgeBG",style:{opacity:"0.3",height:"100vh",position:"fixed",width:"100%",bottom:"0",right:"0"},children:"\xa0"}),Object(x.jsx)(m.a,{justify:"center",children:Object(x.jsx)(O.a,{xs:24,sm:18,md:16,lg:12,xl:8,xxl:6,children:Object(x.jsx)(m.a,{children:Object(x.jsx)(O.a,{span:24,children:p?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ya,{isLoading:p,message:"Please wait..."})}):Object(x.jsx)(x.Fragment,{children:v?Object(x.jsx)(x.Fragment,{children:P&&Y?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(je.a,{status:"success",title:"Password Reset",subTitle:Y,extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/login")},children:"Log in"},"console")})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(be.a,{children:Object(x.jsx)("span",{className:"mge-darkGreen",style:{textTransform:"uppercase",letterSpacing:"1px"},children:"Reset password"})}),Object(x.jsxs)(xe.a,{layout:"vertical",onFinish:z,children:[Object(x.jsx)(xe.a.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Complete new password"}],children:Object(x.jsx)(pe.a.Password,{onChange:function(e){return R(e.target.value)}})}),Object(x.jsx)(xe.a.Item,{label:"Confirm new password",name:"passwordConfirm",rules:[{required:!0,message:"Confirme new password"}],children:Object(x.jsx)(pe.a.Password,{onChange:function(e){return D(e.target.value)}})}),Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(De.a,{rules:["minLength","specialChar","number","capital","match"],minLength:8,value:_,valueAgain:V,messages:{minLength:"Password has more than 8 characters.",specialChar:"Password has special characters.",number:"Password has a number.",capital:"Password has a capital letter.",match:"Passwords match."},onChange:function(e){}})}),Object(x.jsx)("div",{style:{paddingTop:"10px"},children:Object(x.jsx)(xe.a.Item,{children:Object(x.jsx)(ue.a,{type:"primary",htmlType:"submit",loading:C,disabled:C,block:!0,children:C?"Changing Password":"Reset Password"})})})]})]})}):Object(x.jsx)(je.a,{status:"404",title:"Page does not exist.",subTitle:"Sorry, the page you visited does not exist.",extra:Object(x.jsx)(ue.a,{type:"primary",onClick:function(){e.push("/login")},children:"Log in"},"console")})})})})})})]})]})},Hn=Object(l.withRouter)((function(e){var t=Object(l.useLocation)();Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t]);var a=Object(n.useState)("light"),r=Object(i.a)(a,2),c=r[0],s=r[1];switch(e.location.pathname){case"/login":return Object(x.jsx)(l.Route,{path:"/login",render:function(){return Object(x.jsx)(Rn,{colorScheme:c})}});case"/signup":return Object(x.jsx)(l.Route,{path:"/signup",render:function(){return Object(x.jsx)(qn,{colorScheme:c})}});case"/recover":return Object(x.jsx)(l.Route,{path:"/recover",render:function(){return Object(x.jsx)(Mn,{colorScheme:c})}});case"/reset":return Object(x.jsx)(l.Route,{path:"/reset",render:function(){return Object(x.jsx)(Wn,{colorScheme:c})}});default:return Object(x.jsx)(Sn,{setColorScheme:s})}}));c.a.render(Object(x.jsxs)(s.a,{children:[Object(x.jsx)(ge.Toaster,{}),Object(x.jsx)(Hn,{})]}),document.getElementById("root"))}},[[506,1,2]]]);
//# sourceMappingURL=main.46453549.chunk.js.map